{"version":3,"sources":["utils/index.js","component/UI/HambergerButton.js","component/UI/BackButton.js","component/Header/HeaderMenu.js","container/Header/Header.js","component/UI/Button.js","action/index.js","component/Body/Game.js","component/UI/LinkButton.js","component/Body/Main.js","component/Body/Tour/TourItem.js","component/Body/Tour/TourCategoryItem.js","component/UI/Indicator.js","component/Body/Tour/Tour.js","component/UI/CloseButton.js","component/Map/KakaoMap.js","component/Body/Tour/TourDetailCommon.js","component/Body/Tour/TourDetailInfo.js","component/Body/Tour/TourDetailGallery.js","component/Body/Tour/TourDetail.js","component/Body/POI/POI.js","component/Body/Logo.js","component/Body/About/AboutDetail.js","utils/i18n.js","component/Body/About/About.js","component/Body/Test/Upload.js","component/UI/LocaleDropdown.js","component/Body/Test/LocaleTest.js","container/Body/Body.js","component/Footer/BottomMenu.js","container/Footer/Footer.js","component/App.js","reducer/index.js","index.js"],"names":["blankDiv","height","style","className","getQueryString","data","str","p","hasOwnProperty","push","encodeURIComponent","join","isNullOrEmpty","length","getUrl","path","startsWith","window","location","hostname","origin","url","success","fail","a","console","log","axios","get","then","response","message","catch","error","requestGet","getTourAuthKey","decodeURIComponent","HambergerButton","props","state","$","toggleClass","this","onClick","show","hasClass","spanStyle","background","color","align","type","id","marginTop","marginLeft","marginRight","htmlFor","onToggle","renderIcon","Component","defaultProps","BackButton","current","history","goBack","connect","pathname","dispatch","HeaderMenu","indexOf","Header","text","value","undefined","Button","SET_HISTORY","SET_TOUR_DATA","SET_SHOW_MENU","setHistory","setShowMenu","showMenu","Game","showPopup","index","spots","name","img","position","left","top","scene","os","Android","startUnity","webkit","messageHandlers","buttonClicked","postMessage","ButtonId","e","setState","scale","innerWidth","offset","transform","backgroundImage","width","renderItems","t","onHide","src","obj","result","forEach","element","renderMain","renderPopup","action","withTranslation","link","idx","icon","LinkButton","to","Main","fontSize","navigator","userAgent","TourItem","contenttypeid","contentid","firstimage2","alt","title","TourCategoryItem","Indicator","viewBox","x1","y1","x2","y2","stop-color","cx","cy","r","Tour","enumCat","eToCat","category","label","filters","tourData","requestList","key","css","ServiceKey","areaCode","sigunguCode","listYN","MobileOS","MobileApp","appName","arrange","numOfRows","pageNo","_type","sortingData","res","body","items","item","cat1","setTourData","list","onClickCategory","count","firstimage","replace","addr1","renderCategory","renderList","CloseButton","KakaoMap","urlList","pos","cachedAddress","nextProps","nextState","showMap","mapx","mapy","start","dest","x","y","lat","lng","gps","getMyCoords","json","JSON","parse","searchDetailAddrFromCoords","destcoor","getWcongnamul","split","goToPage","pageUrl","allow","TourDetailCommon","parentId","document","getElementById","child","querySelector","createElement","appendChild","innerHTML","addChildToElement","overview","homepage","requestData","onShow","addr","params","match","contentTypeId","contentId","defaultYN","firstImageYN","areacodeYN","catcodeYN","addrinfoYN","mapinfoYN","overviewYN","transGuideYN","renderBody","renderMap","renderDetail","ignoreKeys","titles","TourDetailInfo","insertItems","val","introYN","inserts","TourDetailGallery","photoUrl","photoList","imageYN","i","originimgurl","smallimageurl","listObj","scrollLeft","itemWidth","scrollWidth","clientWidth","animate","renderPhoto","pageX","target","TourDetail","pageList","page","oldPage","indicatorLeft","getPageName","stop","distance","movePage","buffer","currentPath","attr","substr","renderTab","renderIndicator","toLeft","dist","toRight","POI","frameId","requestAnimationFrame","cancelAnimationFrame","time","isLoaded","startTime","isStart","renderScene","renderer","resizeRendererToDisplaySize","canvas","domElement","camera","aspect","clientHeight","updateProjectionMatrix","mixer","tempV","THREE","cubes","cubeInfo","ndx","cube","elem","rot","rotation","updateWorldMatrix","getWorldPosition","project","getWidth","getHeight","toFixed","render","alpha","setSize","mount","set","light","add","GLTFLoader","load","gltf","root","box","setFromObject","boxCenter","getSize","getCenter","sizeToFitOnScreen","boxSize","lookAt","z","frameArea","insertAfter","xhr","loaded","total","needResize","ref","Logo","pageInfo","offsetX","offsetY","oldCenter","center","getIndex","gap","Math","abs","getStyle","transition","renderTitleLogo","renderLogo","AboutDetail","splitText","map00","map01","geography","renderHistory","renderGeography","i18n","use","initReactI18next","init","resources","kr","en","jp","ch","fallbackLng","debug","interpolation","escapeValue","detection","order","About","district","scrollTop","linkData","language","isFocus","bl","br","renderTabs","Upload","selectedFile","event","files","URL","createObjectURL","preventDefault","formData","FormData","append","fetch","method","playing","controls","onSubmit","handleSubmit","onChange","onChangeHandler","LocaleDropdown","changeLanguage","initDropdown","class","href","data-target","LocaleTest","Body","component","exact","BottomMenu","currentPageNum","updateWindowDimensions","bind","addEventListener","removeEventListener","innerHeight","slice","renderButton","Footer","App","initialState","counter","actionTypes","store","createStore","reducer","ReactDOM","StrictMode"],"mappings":"ytyFAGaA,G,OAAW,SAACC,GACvB,GAAIA,EAAQ,CACV,IAAIC,EAAQ,CAAED,OAASA,GACvB,OAAQ,qBAAKE,UAAU,QAAQD,MAAOA,IAExC,OAAQ,qBAAKC,UAAU,YAOZC,EAAiB,SAACC,GAC7B,IAAIC,EAAM,GACV,IAAK,IAAIC,KAAKF,EACRA,EAAKG,eAAeD,IACtBD,EAAIG,KAAKC,mBAAmBH,GAAK,IAAMG,mBAAmBL,EAAKE,KAGnE,OAAOD,EAAIK,KAAK,MASLC,EAAgB,SAACN,GAC1B,MAAsB,oBAAPA,IAAuBA,GAAsB,IAAfA,EAAIO,QAAwB,KAARP,GAGxDQ,EAAS,SAACC,GACnB,OAAIA,EAAKC,WAAW,QAAUD,EAAKC,WAAW,QACnCD,EAEsB,cAA7BE,OAAOC,SAASC,SAGX,wBAA0BJ,EAKxBE,OAAOC,SAASE,OAAS,QAAUL,G,4CAKlD,WAA0BM,EAAKhB,EAAMiB,EAASC,GAA9C,SAAAC,EAAA,sDACEH,EAAMP,EAAOO,GACbI,QAAQC,IAAI,kBAAoBL,EAAM,IAAMjB,EAAeC,IAC3DsB,IAAMC,IAAIP,EAAM,IAAMjB,EAAeC,IAChCwB,MAAK,SAAAC,GACER,GAEAA,EAAQQ,EAASzB,KAAK0B,SAE1BN,QAAQC,IAAI,sBAAwBL,MAEvCW,OAAM,SAAAC,GACCV,GACAA,EAAKU,GAETR,QAAQC,IAAIO,MAftB,4C,sBAqCO,IAAML,EAAM,SAACP,EAAKhB,EAAMiB,EAASC,I,0CAEtCW,CAAWb,EAAKhB,EAAMiB,EAASC,IASpBY,EAAiB,WAC5B,OAAOC,mBAFO,mGC1FVC,E,kDACJ,WAAYC,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,uDAYhB,GAFAC,IAAE,cAAcC,YAAY,QAEF,MAAtBC,KAAKJ,MAAMK,QAAiB,CAC9B,IAAIC,EAAOJ,IAAE,cAAcK,SAAS,QACpCH,KAAKJ,MAAMK,QAAQC,M,mCAIT,IAAD,OAOPE,EAAY,CACZC,WAAYL,KAAKJ,MAAMU,OAIvB7C,EAAY,cAKhB,OAJKS,EAAc8B,KAAKJ,MAAMW,SAC5B9C,GAAa,IAAMuC,KAAKJ,MAAMW,OAI9B,gCACE,uBAAOC,KAAK,WAAWC,GAAG,eAC1B,uBAAOjD,MAnBC,CACVkD,UAAW,OACXC,WAAY,OACZC,YAAa,QAiBTnD,UAAWA,EACXoD,QAAQ,aACRJ,GAAG,YACHR,QAAS,WAAO,EAAKa,YAJvB,SAKE,sBAAKL,GAAG,YAAR,UACE,sBAAMjD,MAAO4C,IACb,sBAAM5C,MAAO4C,IACb,sBAAM5C,MAAO4C,IACb,sBAAM5C,MAAO4C,c,+BAQrB,OACE,8BACIJ,KAAKe,mB,GA1DeC,aA+D9BrB,EAAgBsB,aAnEK,CACnBX,MAAO,SAoEMX,Q,iBCpETuB,E,kDACJ,WAAYtB,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,CACXsB,QAAS,IAJK,E,sDASZnB,KAAKJ,MAAMwB,SACbpB,KAAKJ,MAAMwB,QAAQC,W,mCAIT,IAAD,OACX,IAAInD,EAAc8B,KAAKJ,MAAMC,QACL,MAArBG,KAAKJ,MAAMC,OACU,UAArBG,KAAKJ,MAAMC,MAFd,CAKA,IAKIO,EAAY,CACZC,WAAY,sBAGhB,OACE,qBAAKI,GAAG,iBAAR,SACE,uBAAOjD,MAXC,CACVkD,UAAW,MACXC,WAAY,OASWV,QAAS,WAAO,EAAKA,WAA1C,SACE,sBAAKQ,GAAG,mBAAR,UACE,sBAAMjD,MAAO4C,IACb,sBAAM5C,MAAO4C,IACb,sBAAM5C,MAAO4C,c,+BAQrB,OACE,8BACIJ,KAAKe,mB,GA9CUC,aA+DVM,eAZS,SAACzB,GACvB,MAAO,CACLuB,QAASvB,EAAMuB,QACfvB,MAAOA,EAAMuB,QAAUvB,EAAMuB,QAAQ5C,SAAS+C,SAAW,OAIlC,SAACC,GAC1B,MAAO,KAIMF,CAA6CJ,GC9DtDO,E,kDACJ,WAAY7B,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,CACXsB,QAAS,IAJK,E,4DAQFjB,GACd,OAAIA,EAEA,qBAAKzC,UAAU,OAAf,SACE,cAAC,EAAD,CAAiB8C,MAAM,QAAQD,MAAO,UAAWL,QAAU,SAACC,GAAWnB,QAAQC,IAAIkB,aAKvF,I,+BAKF,OAAKhC,EAAc8B,KAAKJ,MAAMC,QAAUG,KAAKJ,MAAMC,MAAM6B,QAAQ,WAAa,EAE1E,qBAAKjB,GAAG,iBAAR,SACE,qBAAKhD,UAAU,QAAf,SACE,qBAAKA,UAAU,OAAf,SACE,cAAC,EAAD,CAAY2D,QAASpB,KAAKJ,MAAMwB,gBAMxC,qBAAKX,GAAG,iBAAiBhD,UAAU,e,GAlChBuD,aAqDVM,eAZS,SAACzB,GACvB,MAAO,CACLuB,QAASvB,EAAMuB,QACfvB,MAAOA,EAAMuB,QAAUvB,EAAMuB,QAAQ5C,SAAS+C,SAAW,OAIlC,SAACC,GAC1B,MAAO,KAIMF,CAA6CG,GCzC7CE,E,kDAfb,WAAY/B,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,qDAQhB,OACE,8BACE,cAAC,EAAD,U,GAXamB,a,OCOfC,G,OAAe,CACnBW,KAAM,GACNC,MAAO,GACP5B,aAAS6B,IAGLC,E,kDACJ,WAAYnC,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,qDAOT,IAAD,OACN,OACE,qBAAKpC,UAAU,YAAf,SACE,qBAAKwC,QAAS,WAAQ,EAAKL,MAAMK,QAAQ,EAAKL,MAAMiC,QAApD,SACG7B,KAAKJ,MAAMgC,a,GAZDZ,aAmBrBe,EAAOd,aAAeA,EAEPc,QC7BFC,EAAc,cACdC,EAAgB,gBAChBC,EAAgB,gBAgBhBC,EAAa,SAACf,GAAD,MAAc,CACpCZ,KAAMwB,EACNZ,YAQSgB,EAAc,SAACC,GAAD,MAAc,CACrC7B,KAAM0B,EACNG,a,kBC7BEC,E,kDACJ,WAAY1C,GAAO,IAAD,6BAGU,OAF1B,cAAMA,IAEGA,MAAMwB,SACb,EAAKxB,MAAMuC,WAAW,EAAKvC,MAAMwB,SAGnC,EAAKvB,MAAQ,CACX0C,WAAW,EACXC,MAAO,GAGT,EAAKC,MAAQ,CACX,CAAEhC,GAAI,UACJiC,KAAM,oDACNC,IAAK,+DACLC,SAAU,CAAEC,KAAM,OAAQC,IAAK,UACjC,CAAErC,GAAI,UACJiC,KAAM,oDACNC,IAAK,+DACLC,SAAU,CAAEC,KAAM,QAASC,IAAK,UAClC,CAAErC,GAAI,UACJiC,KAAM,qBACNC,IAAK,+DACLC,SAAU,CAAEC,KAAM,QAASC,IAAK,SAClC,CAAErC,GAAI,UACJiC,KAAM,wCACNC,IAAK,8EACLC,SAAU,CAAEC,KAAM,QAASC,IAAK,UAClC,CAAErC,GAAI,UACJiC,KAAM,wCACNC,IAAK,iDACLC,SAAU,CAAEC,KAAM,QAASC,IAAK,SAClC,CAAErC,GAAI,UACJiC,KAAM,wCACNC,IAAI,gEACJC,SAAU,CAAEC,KAAM,QAASC,IAAK,WApCpB,E,uDAwCPC,GACT,IACE,OAAOxE,OAAOyE,IACZ,IAAK,MACCzE,OAAO0E,SACT1E,OAAO0E,QAAQC,WAAWH,GAE5B,MACF,IAAK,MAEHxE,OAAO4E,OAAOC,gBAAgBC,cAAcC,YAAY,CAAEC,SAAUR,KAM1E,MAAMS,GACJzE,QAAQC,IAAIwE,M,8BAIRhB,GACNxC,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEE0C,WAAW,EACXC,MAAOA,O,mCAKT,IAAIkB,EAAQnF,OAAOoF,WAAa,IAAMpF,OAAOoF,WAAa,IAAM,EAC5DC,EAAU,IAAMF,EAAQ,GAAQ,MAChClG,EAAQ,CACVqG,UAAU,SAAD,OAAWH,EAAX,KACTI,gBAAiB,+BACjBhB,IAAKc,EACLG,MAAO,QACPxG,OAAQ,SAGV,OACE,qBAAKkD,GAAG,eAAehD,UAAU,qBAAjC,SACE,qBAAKD,MAAOA,EAAOiD,GAAG,cAAtB,SACIT,KAAKgE,oB,+BAObhE,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEE0C,WAAW,O,oCAIA,IAAD,OACJ0B,EAAMjE,KAAKJ,MAAXqE,EACJtG,EAAOqC,KAAKyC,MAAMzC,KAAKH,MAAM2C,OACjC,OACE,sBAAK/B,GAAG,gBAAR,UACE,qBAAKhD,UAAS,qBAAgBuC,KAAKH,MAAM0C,UAAY,OAAS,UAAYtC,QAAS,WAAM,EAAKiE,UAA9F,SACE,qBAAKzG,UAAU,yBAEjB,sBAAKA,UAAS,uCAAkCuC,KAAKH,MAAM0C,UAAY,OAAS,UAAhF,UACE,qBAAK9E,UAAU,cAAf,SACE,qBAAK0G,IAAKxG,EAAKgF,QAEjB,sBAAKlF,UAAU,aAAf,UACE,qBAAKA,UAAU,QAAf,SAAuB,4BAAIwG,EAAE,SAAD,OAAUtG,EAAK8C,SAC3C,0HACA,sBAAKhD,UAAU,qBAAf,UACE,qBAAKA,UAAU,eAAf,SAA+BwG,EAAE,aACjC,qBAAKxG,UAAU,eAAf,SAA+BwG,EAAE,sBAEnC,qBAAKxG,UAAU,oBAAf,SAAoCwG,EAAE,wB,wCAO9B,IAAD,OACPA,EAAMjE,KAAKJ,MAAXqE,EAER,OACE,gCACE,cAAC,EAAD,CAAQrC,KAAMqC,EAAE,eAAgBpC,MAAO,SACrC5B,QAAU,SAACmE,GAAU,EAAKnE,QAAQmE,MACpC,cAAC,EAAD,CAAQxC,KAAMqC,EAAE,YAAapC,MAAO,MAClC5B,QAAU,SAACmE,GAAU,EAAKnE,QAAQmE,MACpC,cAAC,EAAD,CAAQxC,KAAMqC,EAAE,aAAcpC,MAAO,OACnC5B,QAAU,SAACmE,GAAU,EAAKnE,QAAQmE,MACpC,cAAC,EAAD,CAAQxC,KAAM,WAAYC,MAAO,MAC/B5B,QAAU,SAACmE,GAAU,EAAKnE,QAAQmE,MACpC,cAAC,EAAD,CAAQxC,KAAMqC,EAAE,gBAAiBpC,MAAO,UACtC5B,QAAU,SAACmE,GAAU,EAAKnE,QAAQmE,W,oCAI3B,IAAD,OACRC,EAAS,GACLJ,EAAMjE,KAAKJ,MAAXqE,EAiBR,OAfAjE,KAAKyC,MAAM6B,SAAQ,SAACC,EAAS/B,GAC3B,IAAIE,EAAOuB,EAAE,SAAD,OAAUM,EAAQ9D,KAE9B4D,EAAOtG,KACL,sBAAKN,UAAU,YACfwC,QAAS,WAAK,EAAKA,QAAQuC,IAC3BhF,MAAO+G,EAAQ3B,SAFf,UAGE,qBAAKuB,IAAI,sBAAsB1G,UAAW+E,EAAQ,IAAM,EAAI,OAAS,KACrE,8BACE,+BACGE,aAKJ2B,I,+BAIP,OACE,sBAAK5D,GAAG,UAAR,UACGnD,EAAS,QACV,sBAAKmD,GAAG,sBAAsBhD,UAAU,OAAxC,UACGuC,KAAKwE,aACLxE,KAAKyE,iBAERnH,EAAS,e,GA3KE0D,aA6LJM,eAbS,SAACzB,GACvB,MAAO,MAKkB,SAAC2B,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,QAK3CE,CAA6CqD,cAAkBrC,I,QC/LxErB,EAAe,CACnBW,KAAM,GACNC,MAAO,GACP+C,KAAM,IACN3E,aAAS6B,EACT+C,IAAK,EACLC,KAAM,IAGFC,E,kDACJ,WAAYnF,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,qDAQhB,OACE,qBAAKpC,UAAU,YAAf,SACE,eAAC,IAAD,CAAMuH,GAAIhF,KAAKJ,MAAMgF,KAArB,UACE,sBAAMnH,UAAS,kCAA6BuC,KAAKJ,MAAMiF,KAAvD,SACG7E,KAAKJ,MAAMkF,OAEb9E,KAAKJ,MAAMgC,c,GAfGZ,aAsBzB+D,EAAW9D,aAAeA,EAEX8D,QC9BTE,G,yDACJ,WAAYrF,GAAO,IAAD,6BAGU,OAF1B,cAAMA,IAEGA,MAAMwB,SACb,EAAKxB,MAAMuC,WAAW,EAAKvC,MAAMwB,SAJnB,E,qDAQT,IACC6C,EAAMjE,KAAKJ,MAAXqE,EAER,OACE,sBAAKxD,GAAG,UAAR,UACGnD,EAAS,QACV,sBAAKmD,GAAG,sBAAsBhD,UAAWuC,KAAKJ,MAAMyC,SAAW,OAAQ,OAAvE,UACE,sBAAK5B,GAAG,kBAAR,UACE,cAAC,EAAD,CAAYoE,IAAK,EACfC,KAAM,MACNlD,KAAMqC,EAAE,kBACRW,KAAK,WAEP,cAAC,EAAD,CAAYC,IAAK,EACfjD,KAAMqC,EAAE,kBACRa,KAAM,OACNF,KAAK,aAET,sBAAKnE,GAAG,kBAAR,UACE,cAAC,EAAD,CAAYoE,IAAK,EACfjD,KAAMqC,EAAE,kBACRa,KAAM,cACNF,KAAK,SAEP,cAAC,EAAD,CAAYC,IAAK,EACfjD,KAAMqC,EAAE,kBACRa,KAAM,QACNF,KAAK,aAET,sBAAKpH,MAAO,CAACuG,MAAO,OAAQpD,WAAY,OAAQuE,SAAU,QAA1D,UACI5H,EAAS,SACX,+CACA,uBACEiB,OAAO4G,UAAUC,UACnB,uBACA,uBACA,oCAPF,WAOiB7G,OAAOyE,IACpB1F,EAAS,qB,GA9CJ0D,cAoEJM,eAfS,SAACzB,GACvB,MAAO,CAEHwC,SAAUxC,EAAMwC,aAIK,SAACb,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,KACtDgB,YAAa,SAACC,GAAeb,EAASkD,EAAmBrC,QAK9Cf,CAA6CqD,cAAkBM,IC/B/DI,G,yDA1Cb,WAAYzF,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,wFAoBhB,IAAMxB,EAAI,gBAAY2B,KAAKJ,MAAMjC,KAAK2H,cAA5B,YAA6CtF,KAAKJ,MAAMjC,KAAK4H,WACvE,OACE,8BACE,eAAC,IAAD,CAAM9E,GAAG,eAAeuE,GAAI3G,EAA5B,UACE,sBAAKZ,UAAU,YAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAK0G,IAAKnE,KAAKJ,MAAMjC,KAAK6H,YAAaC,IAAI,kBAE7C,qBAAKhF,GAAG,eAAR,SACE,mBAAGhD,UAAU,YAAb,SACGuC,KAAKJ,MAAMjC,KAAK+H,aAIvB,qBAAKjF,GAAG,gBAAR,SACE,qBAAKhD,UAAU,0B,GApCJuD,cCkCR2E,G,gEAjCb,WAAY/F,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,sDAQZG,KAAKJ,MAAMjC,MACbqC,KAAKJ,MAAMK,QAAQD,KAAKJ,MAAMjC,KAAKkE,S,+BAI9B,IAAD,OACN,OACE,8BACE,sBAAKpB,GAAG,eAAeR,QAAU,WAAQ,EAAKA,WAA9C,UACE,sBAAKxC,UAAU,YAAf,UACE,qBAAKA,UAAS,0CAAqCuC,KAAKJ,MAAMjC,KAAKkE,MAArD,mBAAd,SACG7B,KAAKJ,MAAMjC,KAAKmH,OAEnB,mBAAGrH,UAAU,YAAb,SACGuC,KAAKJ,MAAM8F,WAGhB,qBAAKjF,GAAG,gBAAR,SACE,qBAAKhD,UAAU,0B,GA3BIuD,cCwBhB4E,I,yDAxBb,WAAYhG,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,qDAQhB,OACE,qBAAKY,GAAG,eAAR,SACE,sBAAKA,GAAG,YAAYoF,QAAQ,cAA5B,UACE,+BACE,iCAAgBpF,GAAG,WAAWqF,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,OAAzD,UACE,sBAAMrC,OAAO,KAAKsC,aAAW,YAC7B,sBAAMtC,OAAO,OAAOsC,aAAW,iBAGnC,wBAAQzF,GAAG,cAAc0F,GAAG,KAAKC,GAAG,KAAKC,EAAE,OAC3C,wBAAQ5F,GAAG,SAAS0F,GAAG,KAAKC,GAAG,KAAKC,EAAE,gB,GAnBxBrF,cCWlBsF,G,kDACF,WAAY1G,GAAO,IAAD,6BAGQ,OAF1B,cAAMA,IAEGA,MAAMwB,SACb,EAAKxB,MAAMuC,WAAW,EAAKvC,MAAMwB,SAGnC,EAAKmF,QAAU,CACb,IAAO,eACP,IAAO,uDACP,IAAO,qBACP,IAAO,2BACP,IAAO,eACP,IAAO,eACP,IAAO,gBAGT,EAAKC,OAAS,CACZ,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,KAGT,EAAKC,SAAW,CACd,CAAE5E,MAAO,IAAK6E,MAAO,iCAAS5B,KAAM,OAAQ6B,QAAS,CAAC,eAAM,eAAM,iBAClE,CAAE9E,MAAO,IAAK6E,MAAO,sBAAQ5B,KAAM,aAAc6B,QAAS,CAAC,iBAC3D,CAAE9E,MAAO,IAAK6E,MAAO,qBAAO5B,KAAM,kBAAmB6B,QAAS,CAAC,yDAC/D,CAAE9E,MAAO,IAAK6E,MAAO,qBAAO5B,KAAM,gBAAiB6B,QAAS,CAAC,6BAC7D,CAAE9E,MAAO,IAAK6E,MAAO,kCAAU5B,KAAM,cAAe6B,QAAS,CAAC,wBAGhE,EAAK9G,MAAQ,CACXlC,KAAM,GACN8I,SAAU,KArCM,E,gEA0CbzG,KAAKJ,MAAMgH,UACd5G,KAAK6G,gB,sCAIOC,GACdhH,IAAE,WAAWiH,IAAI,YAAa,oBAC9B/G,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEE4G,SAAUK,O,oCAIC,IAAD,OACRnJ,EAAO,CACTqJ,WAAYvH,IAEZwH,SAAU,GACVC,YAAa,GACbC,OAAQ,IACRC,SAAU7I,OAAOyE,GACjBqE,UAAW9I,OAAO+I,QAClBC,QAAS,IACTC,UAAW,KACXC,OAAQ,EACRC,MAAO,QAGLC,EAAc,GAIlBzI,EA7EQ,qBA6ECvB,GACP,SAACiK,GACcA,EAAIxI,SAASyI,KAAKC,MAAMC,KAC9BzD,SAAQ,SAAAC,GACb,IAAIuC,EAAM,EAAKN,OAAOjC,EAAQyD,MAExBlB,KAAOa,IACXA,EAAYb,GAAO,IAGrBa,EAAYb,GAAK/I,KAAKwG,MAGxBxF,QAAQC,IAAI2I,GAEZ,EAAKlE,SAAL,2BACK,EAAK5D,OADV,IAEElC,KAAMgK,KAER,EAAK/H,MAAMqI,YAAYN,MAEzB,SAACC,GACC7I,QAAQC,IAAI4I,Q,uCAIA,IAAD,OACP3D,EAAMjE,KAAKJ,MAAXqE,EACJiE,EAAO,GAOX,OANAlI,KAAKyG,SAASnC,SAAQ,SAACyD,EAAMlD,GAC3BqD,EAAKnK,KAAK,cAAC,EAAD,CAAkBkC,QAAU,SAAC6G,GAAU,EAAKqB,gBAAgBrB,IAEpEpB,MAAOzB,EAAE,kBAAD,OAAmBY,IAC3BlH,KAAMoK,GAFDA,EAAKlG,WAIP,8BACJqG,M,mCAKH,IAAKlI,KAAKJ,MAAMgH,SACd,OAAO,wBAGT,IAAIjJ,EAAOqC,KAAKJ,MAAMgH,SAAS5G,KAAKH,MAAM4G,UAE1C,GADA1H,QAAQC,IAAIrB,GACRA,GAAQA,EAAKQ,OAAS,EAAG,CAC3BY,QAAQC,IAAI,MACZ,IAAIkJ,EAAO,GACPE,EAAQ,EAUZ,OATAzK,EAAK2G,SAAQ,SAAAyD,GACN7J,EAAc6J,EAAKM,cACtBN,EAAKM,WAAaN,EAAKM,WAAWC,QAAQ,UAAW,aAClDpK,EAAc6J,EAAKvC,eACtBuC,EAAKvC,YAAcuC,EAAKvC,YAAY8C,QAAQ,UAAW,aAErDpK,EAAc6J,EAAKM,aAAgBnK,EAAc6J,EAAKQ,QACxDL,EAAKnK,KAAK,cAAC,EAAD,CAAwBJ,KAAMoK,GAAfK,SAEtB,8BACJF,IAGL,OAAO,8BACL,cAAC,GAAD,Q,+BAKF,OACE,sBAAKzH,GAAG,UAAR,UACInD,EAAS,QACX,qBAAKmD,GAAG,eAAR,SACE,sBAAKhD,UAAU,4BAAf,UACE,qBAAKA,UAAU,uBAAf,SACE,qBAAKA,UAAU,YAAf,SACGuC,KAAKwI,qBAGV,sBAAK/K,UAAU,oBAAf,UACE,qBAAKA,UAAU,6BACbwC,QAAS,WAAMH,IAAE,WAAWiH,IAAI,YAAa,mBAD/C,0BAEA,qBAAKtJ,UAAU,YAAf,SACGuC,KAAKyI,8B,GA/JHzH,aA4LJM,gBAfS,SAACzB,GACvB,MAAO,CACL+G,SAAU/G,EAAM+G,aAKO,SAACpF,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,KACtD6G,YAAa,SAACrB,GAAepF,EPtKN,SAACoF,GAAD,MAAe,CACtCpG,KAAMyB,EACN2E,YOoKsClC,CAAmBkC,QAK9CtF,CAA6CqD,cAAkB2B,KCnK/DoC,I,gEAnCb,WAAY9I,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,yDAOJ,IAAD,OAIPO,EAAY,CACZC,WAAY,sBAGhB,OACE,qBAAKI,GAAG,kBAAR,SACE,uBAAOjD,MATC,GASayC,QAAS,WAAO,EAAKL,MAAMK,WAAhD,SACE,sBAAKQ,GAAG,oBAAR,UACE,sBAAMjD,MAAO4C,IACb,sBAAM5C,MAAO4C,a,+BAQrB,OACE,8BACIJ,KAAKe,mB,GA/BWC,cCiKX2H,G,kDA7Jb,WAAY/I,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,CACXlB,IAAK,GACLiK,QAAS,GACTC,IAAK,GAGP,EAAKC,cAAgB,GATL,E,gHAeIC,EAAWC,GAK/B,OAJID,EAAU7I,OAASF,KAAKJ,MAAMM,MAChCF,KAAKiJ,WAGA,I,gCAGG,IAAD,OACT,IAAK/K,EAAc8B,KAAKJ,MAAM8F,SACxBxH,EAAc8B,KAAKJ,MAAMsJ,QACzBhL,EAAc8B,KAAKJ,MAAMuJ,MAAO,CAGlC,IAAIC,EAAQ,GACRC,EAAOrJ,KAAKJ,MAAM8F,MAClB4D,EAAItJ,KAAKJ,MAAMsJ,KACfK,EAAIvJ,KAAKJ,MAAMuJ,KAEfK,EAAM,WACNC,EAAM,YAEV,GAAIlL,OAAO0E,QAAS,CAElB,IAAIyG,EAAMnL,OAAO0E,QAAQ0G,cACzB5K,QAAQC,IAAI,yCACZD,QAAQC,IAAI0K,GAEZ,IAAIE,EAAOC,KAAKC,MAAMJ,GACtBF,EAAMI,EAAKJ,IACXC,EAAMG,EAAKH,IACX1K,QAAQC,IAAI,YAAcwK,GAC1BzK,QAAQC,IAAI,YAAcyK,GAI5BlL,OAAOwL,2BAA2BP,EAAKC,GAAK,SAACpF,GAC3C,GAAIA,IAAW,EAAKyE,cAAe,CACjCM,EAAQ/E,EAIR,IAAI1F,EAAM,GAGV,GAAwB,SAApB,EAAKiB,MAAMY,KACb7B,EAAG,wCAAoC0K,EAApC,YAA4CE,EAA5C,YAAiDD,QAEjD,GAAwB,WAApB,EAAK1J,MAAMY,KAClB7B,EAAG,kDAA8C6K,EAA9C,cAAuDC,EAAvD,eAAiEL,EAAjE,eAA6EG,EAA7E,cAAoFD,EAApF,eAA4FD,EAA5F,eAEA,CACH,IAAIW,EAAWzL,OAAO0L,cAAc,EAAKrK,MAAMsJ,KAAM,EAAKtJ,MAAMuJ,MAAMe,MAAM,KAC5EZ,EAAIU,EAAS,GAAG1B,QAAQ,IAAK,IAAI4B,MAAM,KAAK,GAC5CX,EAAIS,EAAS,GAAG1B,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAI4B,MAAM,KAAK,GAC7DvL,EAAG,uEAAmE2K,EAAnE,cAA0EC,EAA1E,gBAAmFH,EAAnF,gBAAgGC,EAAhG,0BAGLtK,QAAQC,IAAIL,GACZ,EAAKwL,SAASxL,U,2EAyBhByL,GACN,IAAIlC,EAAOlI,KAAKH,MAAM+I,QACtBV,EAAKA,EAAK/J,QAAUiM,EAEpBpK,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEE+I,QAASV,EACTW,IAAKX,EAAK/J,OAAS,O,+BAIdiM,GAEPpK,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEElB,IAAKyL,O,sGAuBPpK,KAAKJ,MAAMsE,QAAO,K,+BAGV,IAAD,OAGP,OAAKlE,KAAKJ,MAAMM,KAId,sBAAKO,GAAG,cAAR,UACE,qBAAKA,GAAG,qBAAR,SACE,cAAC,GAAD,CAAaR,QAAY,WAAO,EAAKL,MAAMsE,cAE7C,wBAAQwB,MAAM,WAAWjF,GAAG,YAAY4J,MAAM,cAAclG,IAAKnE,KAAKH,MAAMlB,SAPtE,4B,GAjJSqC,aCIjBsJ,G,kDACJ,WAAY1K,GAAO,IAAD,8BAChB,cAAMA,IAEGA,MAAMwB,QAIf,EAAKvB,MAAQ,CACXK,MAAM,EACNM,KAAM,UATQ,E,mDAaXN,EAAMM,GACXR,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEEK,KAAMA,EACNM,KAAMA,O,wCAIQ+J,EAAU5M,GAC1B,IAAI4G,EAAUiG,SAASC,eAAeF,GAClCG,EAAQnG,EAAQoG,cAAc,OAC7BD,IACHA,EAAQF,SAASI,cAAc,OAC/BrG,EAAQsG,YAAYH,IAElBA,IACFA,EAAMI,UAAYnN,K,2CAKpBqC,KAAK+K,kBAAkB,wBACrB/K,KAAKH,MAAMlC,KAAKqN,SAAWhL,KAAKH,MAAMlC,KAAKqN,SAAW,IAExDhL,KAAK+K,kBAAkB,wBACrB/K,KAAKH,MAAMlC,KAAKsN,SAAWjL,KAAKH,MAAMlC,KAAKsN,SAAW,kB,0CAYxDjL,KAAKkL,gB,kCAGM,IAAD,OACNxF,EAAQ1F,KAAKH,MAAMlC,KAAK+H,MACxB4D,EAAItJ,KAAKH,MAAMlC,KAAKuL,KACpBK,EAAIvJ,KAAKH,MAAMlC,KAAKwL,KACpBjJ,EAAOF,KAAKH,MAAMK,KAEtB,OACE,cAAC,GAAD,CAAUwF,MAAOA,EAAOwD,KAAMI,EAAGH,KAAMI,EAAGrJ,KAAMA,EAAMM,KAAMR,KAAKH,MAAMW,KACrE0D,OAAQ,WAAQ,EAAKiH,QAAO,EAAO,EAAKtL,MAAMW,W,mCAItC,IAAD,OACP4K,EAAOpL,KAAKH,MAAMlC,KAAK4K,MACvBF,EAAarI,KAAKH,MAAMlC,KAAK0K,WAG7B3C,EAAQ1F,KAAKH,MAAMlC,KAAK+H,MAGxBxF,GAAQF,KAAKH,MAAMK,KAKvB,OAHKhC,EAAcmK,KACjBA,EAAaA,EAAWC,QAAQ,UAAW,aAG3C,sBAAK7K,UAAWyC,EAAO,GAAK,YAA5B,UACE,sBAAKO,GAAG,eAAR,UACE,qBAAKhD,UAAU,QAAf,SACGiI,IAEH,qBAAKvB,IAAKkE,EAAa5C,IAAI,eAC3B,oBAAIhF,GAAG,0BACP,6BAAK2K,IACL,oBAAI3K,GAAG,wBAAP,2CAEF,sBAAKA,GAAG,yBAAR,UACE,sBAAKA,GAAG,oBAAoBR,QAAU,WAAQ,EAAKkL,QAAO,EAAM,WAAhE,UACE,qBAAKhH,IAAI,4EAA4EsB,IAAI,SACzF,sBAAMhF,GAAG,yBAAT,qCAEF,sBAAKA,GAAG,oBAAoBR,QAAU,WAAQ,EAAKkL,QAAO,EAAM,SAAhE,UACE,qBAAKhH,IAAI,4EAA4EsB,IAAI,SACzF,sBAAMhF,GAAG,yBAAT,qCAEF,sBAAKA,GAAG,oBAAoBR,QAAU,WAAQ,EAAKkL,QAAO,EAAM,YAAhE,UACE,qBAAKhH,IAAI,4EAA4EsB,IAAI,SACzF,sBAAMhF,GAAG,yBAAT,6C,kCAME4K,GAAS,IAAD,SACGrL,KAAKJ,MAAM0L,MAAMD,OAA9B5K,EADU,EACVA,GAAID,EADM,EACNA,KAER7C,EAAO,CACTqJ,WAAYvH,IACZ8L,cAAe/K,EACfgL,UAAW/K,EACX2G,SAAU7I,OAAOyE,GACjBqE,UAAW9I,OAAO+I,QAClBmE,UAAW,IACXC,aAAc,IACdC,WAAY,IACZC,UAAW,IACXC,WAAY,IACZC,UAAW,IACXC,WAAY,IACZC,aAAc,IACdtE,MAAO,QAGTxI,EAjIQ,oBAiICvB,GACP,SAACiK,GACC7I,QAAQC,IAAI4I,GACZ,EAAKnE,SAAS,CACZ9F,KAAMiK,EAAIxI,SAASyI,KAAKC,MAAMC,UAGlC,SAACH,GACC7I,QAAQC,IAAI4I,Q,qCAyBhB,OAAI5H,KAAKH,MAAMlC,KAEX,sBAAKF,UAAU,aAAf,UACGuC,KAAKiM,aACLjM,KAAKkM,eAKR,8BACE,cAAC,GAAD,Q,+BAMN,OACE,qBAAKzO,UAAU,YAAYgD,GAAG,wBAA9B,SACIT,KAAKmM,qB,GAlLgBnL,aAqMhBM,gBAbS,SAACzB,GACvB,MAAO,MAKkB,SAAC2B,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,QAK3CE,CAA6CgJ,ICxMtD8B,GAAa,CACjB,YACA,gBACA,gBACA,gBACA,gBACA,iBAGIC,GAAS,CACb,QAAY,4BACZ,YAAgB,4BAChB,gBAAoB,4BACpB,eAAmB,mCAEnB,kBAAsB,yCACtB,QAAY,4BACZ,UAAc,4BACd,UAAc,4BACd,aAAiB,4BACjB,OAAW,kCACX,aAAgB,uBAEZC,G,kDACJ,WAAY1M,GAAO,IAAD,8BAChB,cAAMA,IAEGA,MAAMwB,QAIf,EAAKvB,MAAQ,GAGb,EAAK0M,YAAc,GAVH,E,8DAaAhC,EAAU5M,GAC1B,IAAI4G,EAAUiG,SAASC,eAAeF,GAClCG,EAAQnG,EAAQoG,cAAc,OAC7BD,IACHA,EAAQF,SAASI,cAAc,OAC/BrG,EAAQsG,YAAYH,IAElBA,IACFA,EAAMI,UAAYnN,K,2CAID,IAAD,OACdqC,KAAKuM,cACPxN,QAAQC,IAAIgB,KAAKuM,aACjBvM,KAAKuM,YAAYjI,SAAQ,SAAAC,GACvB,IACE,EAAKwG,kBAAkBxG,EAAQuC,IAAKvC,EAAQiI,KAE9C,MAAMhJ,GACJzE,QAAQC,IAAIwE,OAGhBxD,KAAKuM,YAAc,M,0CAarBvM,KAAKkL,gB,kCAGKG,GAAS,IAAD,SACGrL,KAAKJ,MAAM0L,MAAMD,OAA9B5K,EADU,EACVA,GAAID,EADM,EACNA,KAER7C,EAAO,CACTqJ,WAAYvH,IACZ8L,cAAe/K,EACfgL,UAAW/K,EACX2G,SAAU7I,OAAOyE,GACjBqE,UAAW9I,OAAO+I,QAClBmF,QAAS,IACT/E,MAAO,QAGTxI,EA1FQ,mBA0FCvB,GACP,SAACiK,GACC7I,QAAQC,IAAI4I,GACZ,EAAKnE,SAAS,CACZ9F,KAAMiK,EAAIxI,SAASyI,KAAKC,MAAMC,UAGlC,SAACH,GACC7I,QAAQC,IAAI4I,Q,oCAKhB,IAAIvD,EAAS,GACTqI,EAAU,GACd,GAAI1M,KAAKH,MAAMlC,KAEb,IAAK,IAAImJ,KAAO9G,KAAKH,MAAMlC,KAAM,CAC/B,IAAI6O,EAAG,UAAMxM,KAAKH,MAAMlC,KAAKmJ,IACzBpB,EAAQ2G,GAAOvF,GAKnB,GAJKpB,IACHA,EAAQoB,GAGN0F,GAAe,IAARA,IAA0C,IAA7BJ,GAAW1K,QAAQoF,GACzC,GAAI0F,EAAI9K,QAAQ,MAAQ,EAAG,CACzB,IAAIjB,EAAE,2BAAuBqG,GAC7BzC,EAAOtG,KAAK,oBAAI0C,GAAIA,EAAR,mBAAgBiF,EAAhB,UACZgH,EAAQ3O,KAAK,CAAC+I,IAAKrG,EAAI+L,IAAKA,SAG5BnI,EAAOtG,KAAK,uCAAQ2H,EAAR,cAAmB8G,MAWvC,OADAxM,KAAKuM,YAAcG,EACXrI,I,+BAIR,OACE,qBAAK5G,UAAU,YAAYgD,GAAG,sBAA9B,SACE,qBAAKhD,UAAU,aAAf,SACGuC,KAAKgE,sB,GAnHahD,aAsIdM,gBAbS,SAACzB,GACvB,MAAO,MAKkB,SAAC2B,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,QAK3CE,CAA6CgL,IC5JtDK,G,kDACJ,WAAY/M,GAAO,IAAD,8BAChB,cAAMA,IAEGA,MAAMwB,QAIf,EAAKvB,MAAQ,CACX+M,SAAU,GACV/H,IAAK,GAGP,EAAKgI,UAAY,GAZD,E,gEAwBhB7M,KAAKkL,gB,oCAGQ,IAAD,SACSlL,KAAKJ,MAAM0L,MAAMD,OAA9B5K,EADI,EACJA,GAAID,EADA,EACAA,KAER7C,EAAO,CACTqJ,WAAYvH,IACZ8L,cAAe/K,EACfgL,UAAW/K,EACX2G,SAAU7I,OAAOyE,GACjBqE,UAAW9I,OAAO+I,QAClBwF,QAAS,IACTpF,MAAO,QAGTxI,EA3CQ,mBA2CCvB,GACP,SAACiK,GACC7I,QAAQC,IAAI4I,GAEZ,IADA,IAAIM,EAAON,EAAIxI,SAASyI,KAAKC,MAAMC,KAC1BgF,EAAI,EAAGA,EAAI7E,EAAK/J,SAAU4O,EACjC7E,EAAK6E,GAAGC,aAAe9E,EAAK6E,GAAGC,aAAa1E,QAAQ,UAAW,MAC/DJ,EAAK6E,GAAGE,cAAgB/E,EAAK6E,GAAGC,aAAa1E,QAAQ,UAAW,MAChEJ,EAAK6E,GAAGlI,IAAMkI,EAEhBhO,QAAQC,IAAIkJ,GACZ,EAAKzE,SAAL,2BACK,EAAK5D,OADV,IAEElC,KAAMuK,EACN0E,SAAW1E,EAAK,GAAG8E,aACnBnI,IAAK,QAGT,SAAC+C,GACC7I,QAAQC,IAAI4I,Q,kCAIN/C,GACV,GAAIA,IAAQ7E,KAAKH,MAAMgF,KAAOA,GAAO,GAAKA,EAAM7E,KAAKH,MAAMlC,KAAKQ,OAAQ,CACtE,IAAIQ,EAAMqB,KAAKH,MAAMlC,KAAKkH,GAAKmI,aAE/BhN,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEE+M,SAAUjO,EACVkG,IAAKA,KAGP,IAAIqI,EAAUpN,IAAE,gCAAgC,GAC5CqN,EAAaD,EAAQC,WAErBC,EADcF,EAAQG,YACIrN,KAAKH,MAAMlC,KAAKQ,OAC1C4F,EAAQmJ,EAAQI,YAIhBd,OAAM1K,EACLsL,GAAavI,EAAM,GAHX,GAG0Bd,EAAQoJ,EAC7CX,EAAOY,GAAavI,EAAM,GAAMd,EAJrB,GAQJqJ,EAAYvI,EARR,GAQuBsI,IAClCX,EAAMY,EAAYvI,EATP,IAYT2H,GAEA1M,IAAE,gCAAgCyN,QAAQ,CAACJ,WAAYX,GAAM,Q,oCAStD,IAAD,OACRnI,EAAS,GACTrE,KAAKH,MAAMlC,MACFqC,KAAKH,MAAMlC,KAEjB2G,SAAQ,SAAAC,GACX,IAAI5F,EAAM4F,EAAQ0I,cACdpI,EAAMN,EAAQM,IAClBR,EAAOtG,KACL,qBAAeN,UAAW,QAAUoH,IAAQ,EAAKhF,MAAMgF,IAAM,YAAc,IAAM5E,QAAU,WAAQ,EAAKuN,YAAY3I,IAApH,SACE,qBAAKV,IAAKxF,EAAK8G,IAAI,UADXZ,OAKhB,OAAQ,qBAAKpE,GAAG,8BAAR,SACJ,qBAAKhD,UAAU,OAAf,SACG4G,Q,+BAKA,IAAD,OACN,OACE,qBAAK5G,UAAU,YAAYgD,GAAG,yBAA9B,SACE,sBAAKhD,UAAU,aAAf,UACGuC,KAAKgE,cACN,qBAAKvD,GAAI,+BAAT,SACE,qBAAKgF,IAAI,OAAOxF,QAAS,SAACmE,GACxB,EAAKoJ,YAAY,EAAK3N,MAAMgF,KAAOT,EAAIqJ,MAA2B,GAAnBrJ,EAAIsJ,OAAO3J,OAAe,EAAI,KAI7EI,IAAKnE,KAAKH,MAAM+M,sB,GAtIE5L,aA2JjBM,gBAbS,SAACzB,GACvB,MAAO,MAKkB,SAAC2B,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,QAK3CE,CAA6CqL,ICxJtDgB,I,yDACJ,WAAY/N,GAAQ,IAAD,sBAGU,QAF3B,cAAMA,IAEGA,MAAMwB,SACb,EAAKxB,MAAMuC,WAAW,EAAKvC,MAAMwB,SAKnC,EAAKwM,SAAW,CAAC,SAAU,OAAQ,WATlB,OAYjB,EAAK/N,MAAQ,CACX2C,MAFQ,EAGRqL,KAAM,SACNC,QAAS,GACTjL,KAAM,MACNkL,cAAe,OAjBA,E,wDAsBPvL,GACV,MAAM,IAAN,OAAmB,IAARA,EAAX,Q,kCAGUA,GACV,OAAOxC,KAAK4N,SAASpL,K,+BAGdA,GACP,GAAIA,GAAS,GAAKA,EAAQxC,KAAK4N,SAASzP,OAAQ,CAC9C6B,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEE2C,MAAOA,EAEPqL,KAAM7N,KAAKgO,YAAYxL,GACvBuL,cAAc,GAAD,OAAK,IAAI,EAAEvL,EAAX,SAEf,IAAIqF,EAAO/H,IAAE,wBACb+H,EAAKoG,OACLpG,EAAK0F,QAAS,CAAEJ,WAAY5O,OAAOoF,WAAanB,GAAS,Q,6BAKrD0L,GAEFA,EAAW,KACblO,KAAKmO,SAASnO,KAAKH,MAAM2C,MAAQ,K,8BAI5B0L,GAEHA,EAAW,KACblO,KAAKmO,SAASnO,KAAKH,MAAM2C,MAAQ,K,0CAKnC,IAAM4L,EAASpO,KAAKJ,MAAMpB,SAAS+C,SAAS2I,MAAM,KAC5CmE,EAAcD,EAAOA,EAAOjQ,OAAS,GACvC0G,EAAM7E,KAAK4N,SAASlM,QAAQ2M,GAC5BxJ,IAAQ7E,KAAKH,MAAM2C,OACrBxC,KAAKmO,SAAStJ,K,8BAYTpE,GAEP,IADA,IAAIoE,EAAM7E,KAAKH,MAAMgF,IACbkI,EAAI,EAAGA,EAAI,IAAKA,EACtB,GAAIjN,IAAE,WAAD,OAAYiN,IAAKuB,KAAK,SAAS5M,QAAQ,WAAa,EAAG,CAC1DmD,EAAMkI,EACN,MAGJhO,QAAQC,IAAI6F,GACRA,IAAQ7E,KAAKH,MAAMgF,KACrB7E,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEEgF,IAAKA,O,gCAcDlG,EAAK6D,EAAOnE,EAAMqE,GAAM,IAAD,OAC3BmL,EAAO7N,KAAKH,MAAMgO,KAAO7N,KAAKH,MAAMgO,KAAO,SAC/C,OACE,sBAAMpQ,UAAWoQ,IAASxP,EAAO,KAAO,GACtC4B,QAAU,WAAQ,EAAKkO,SAAS3L,IADlC,SAEE,8BACGE,Q,wCAMP,IAAIlF,EAAQ,CAACqF,KAAM7C,KAAKH,MAAMkO,eAC9B,OAAQ,sBAAKtQ,UAAU,+BAAf,UACN,qBAAKgD,GAAG,mBAAmBjD,MAAOA,EAAOC,UAAW,oBACpD,qBAAKgD,GAAG,mBAAmBjD,MAAOA,EAAOC,UAAW,kBACpD,qBAAKgD,GAAG,mBAAmBjD,MAAOA,EAAOC,UAAW,4B,+BAI9C,IAAD,OACDkB,EAAQqB,KAAKJ,MAAM0L,MAAnB3M,IAKN,MAJ4B,MAAxBA,EAAIA,EAAIR,OAAS,KACnBQ,EAAMA,EAAI4P,OAAO,EAAG5P,EAAIR,OAAS,IAIjC,sBAAKsC,GAAG,iBAAR,UACE,sBAAKA,GAAG,qBAAR,UACGT,KAAKwO,UAAU7P,EAAK,EAAG,SAAU,4BACjCqB,KAAKwO,UAAU7P,EAAK,EAAG,OAAQ,4BAC/BqB,KAAKwO,UAAU7P,EAAK,EAAG,UAAW,kCAClCqB,KAAKyO,qBAER,sBAAKhO,GAAG,sBAAsBhD,UAAU,qBAAqBD,MAAQ,CAAEqF,KAAM7C,KAAKH,MAAMgD,MAAxF,UACE,cAAC,GAAD,CAAkBzB,QAASpB,KAAKJ,MAAMwB,QAASkK,MAAOtL,KAAKJ,MAAM0L,MAC/DoD,OAAQ,SAACC,GAAU,EAAKD,OAAOC,IAC/BC,QAAS,SAACD,GAAU,EAAKC,QAAQD,MACnC,cAAC,GAAD,CAAgBvN,QAASpB,KAAKJ,MAAMwB,QAASkK,MAAOtL,KAAKJ,MAAM0L,MAC7DoD,OAAQ,SAACC,GAAU,EAAKD,OAAOC,IAC/BC,QAAS,SAACD,GAAU,EAAKC,QAAQD,MACnC,cAAC,GAAD,CAAmBvN,QAASpB,KAAKJ,MAAMwB,QAASkK,MAAOtL,KAAKJ,MAAM0L,MAChEoD,OAAQ,SAACC,GAAU,EAAKD,OAAOC,IAC/BC,QAAS,SAACD,GAAU,EAAKC,QAAQD,gB,GAnJpB3N,cAsKVM,gBAbS,SAACzB,GACvB,MAAO,MAKkB,SAAC2B,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,QAK3CE,CAA6CqM,I,gDCrKtDkB,G,kDACJ,WAAYjP,GAAO,IAAD,8BAChB,cAAMA,IA0PRwJ,MAAQ,WACD,EAAK0F,UACR,EAAKA,QAAUC,sBAAsB,EAAKxB,WA7P5B,EAgQlBU,KAAO,WACLe,qBAAqB,EAAKF,UAjQV,EA+QlBvB,QAAU,SAAC0B,GACL,EAAKC,WAGH,EAAKC,UAAY,IACnB,EAAKA,UAAYF,GAEfA,EAAO,EAAKE,UAAY,MACrB,EAAKC,UACR,EAAKA,SAAU,EACfrQ,QAAQC,IAAI,WACZc,IAAE,mBAAmBiH,IAAI,aAAc,WACvCjH,IAAE,yBAAyBwO,KAAK,QAAS,SAE3C,EAAKe,YAAYJ,KAGrB,EAAKH,QAAUvQ,OAAOwQ,sBAAsB,EAAKxB,UAhSjC,EAmSlB8B,YAAc,SAACJ,GACb,GAAI,EAAKK,SAAU,CAEjB,GADAL,GAAQ,KACJ,EAAKM,4BAA4B,EAAKD,UAAW,CACnD,IAAME,EAAS,EAAKF,SAASG,WAC7B,EAAKC,OAAOC,OAASH,EAAOlC,YAAckC,EAAOI,aACjD,EAAKF,OAAOG,yBAEV,EAAKC,MAIT,IAAMC,EAAQ,IAAIC,WAElB,EAAKC,MAAM3L,SAAQ,SAAC4L,EAAUC,GAAS,IAC9BC,EAAcF,EAAdE,KAAMC,EAAQH,EAARG,KAEPC,EAAMrB,GADE,EAAU,GAANkB,GAElBC,EAAKG,SAASjH,EAAIgH,EAClBF,EAAKG,SAAShH,EAAI+G,EAGlBF,EAAKI,mBAAkB,GAAM,GAC7BJ,EAAKK,iBAAiBV,GAKtBA,EAAMW,QAAQ,EAAKhB,QAGnB,IAAIpG,GAAgB,GAAXyG,EAAMzG,EAAU,IAAM,EAAKqH,WAChCpH,IAAgB,GAAXwG,EAAMxG,EAAU,IAAM,EAAKqH,YACpCtH,EAAIA,EAAEuH,QAAQ,GACdtH,EAAIA,EAAEsH,QAAQ,GAGdR,EAAK7S,MAAMqG,UAAX,0CAA0DyF,EAA1D,cAAiEC,EAAjE,UAGF,EAAK+F,SAASwB,OAAO,EAAK/N,MAAO,EAAK2M,UAxUd,MAAtB,EAAK9P,MAAMwB,SACZ,EAAKxB,MAAMuC,WAAW,EAAKvC,MAAMwB,SAGpC,EAAKvB,MAAQ,GAEb,EAAKsP,WAAa,EAClB,EAAKC,SAAU,EACf,EAAKF,UAAW,EAXA,E,uDAmBhB,OAJKlP,KAAK+D,QACR/D,KAAK+D,MAAQjE,IAAE,WAAWiE,SAGrB/D,KAAK+D,Q,kCAOZ,OAHK/D,KAAKzC,SACRyC,KAAKzC,OAASuC,IAAE,WAAWvC,UAEtByC,KAAKzC,S,0CAUO,IAAD,OAClBuC,IAAE,mBAAmBiH,IAAI,aAAc,UAEvC,IAAMhD,EAAQ,IAERxG,EAASwG,EACf/D,KAAKkP,UAAW,EAEhBlP,KAAK+C,MAAQ,IAAIiN,SAEjBhQ,KAAKsP,SAAW,IAAIU,iBAAoB,CAAEe,OAAO,IAEjD/Q,KAAKsP,SAAS0B,QAAQjN,EAAOxG,GAC7ByC,KAAKiR,MAAMpG,YAAY7K,KAAKsP,SAASG,YAOrCzP,KAAK0P,OAAS,IAAIM,uBAA0BjM,IAAaA,IAAWxG,KAAYA,IAHnE,GACD,KAGZyC,KAAK0P,OAAO9M,SAASsO,IAAI,EAAG,EAAG,KA8B7BlR,KAAKiQ,MAAQ,GASb,IAGMkB,EAAQ,IAAInB,mBAHD,SACG,QACF,GAElBhQ,KAAK+C,MAAMqO,IAAID,GAIf,IAEMA,EAAQ,IAAInB,oBAFJ,SACI,GAElBmB,EAAMvO,SAASsO,IAAI,EAAG,GAAI,GAC1BlR,KAAK+C,MAAMqO,IAAID,GACfnR,KAAK+C,MAAMqO,IAAID,EAAMzD,SAiFF,IAAI2D,MAGZC,KAAK,oCAAoC,SAACC,GACnD,IAAIC,EAAOD,EAAKxO,MAChB,EAAKA,MAAMqO,IAAII,GAEf,EAAK1B,MAAQ,IAAIE,kBAAqBwB,GACtCzS,QAAQC,IAAI,EAAK8Q,OAOjByB,EAAKxO,MAAMW,MAAMwN,IAAI,GAAK,GAAK,IAC/BK,EAAKxO,MAAMH,SAASsO,IAAI,EAAG,EAAG,GAI9B,IAAMO,GAAM,IAAIzB,SAAa0B,cAAcF,GAGvCG,GADUF,EAAIG,QAAQ,IAAI5B,YAAiB7R,SAC/BsT,EAAII,UAAU,IAAI7B,aAClC2B,EAAY,IAAI3B,WAAc,EAAG,IAAK,GACtCjR,QAAQC,IAAI2S,GAvGhB,SAAmBG,EAAmBC,EAASJ,EAAWjC,GA+BxDA,EAAOsC,OAAOL,EAAUrI,EAAGqI,EAAUpI,EAAGoI,EAAUM,GA0EhDC,CAAUH,EAAaA,EAASJ,EAAW,EAAKjC,QAchD,EAAKR,UAAW,EAChBpP,IAAE,mBAAmBqS,YAAY,qBAGnC,SAAWC,GAETrT,QAAQC,IAAOoT,EAAIC,OAAY,YAC/BtT,QAAQC,IAAOoT,EAAIE,MAAW,eAGhC,SAAW/S,GACTR,QAAQC,IAAKO,MAIjBS,KAAKqP,cAELrP,KAAKoJ,U,kDAYqBkG,GAC1B,IAAME,EAASF,EAASG,WAClB1L,EAAQyL,EAAOlC,YACf/P,EAASiS,EAAOI,aAChB2C,EAAa/C,EAAOzL,QAAUA,GAASyL,EAAOjS,SAAWA,EAI/D,OAHIgV,GACFjD,EAAS0B,QAAQjN,EAAOxG,GAAQ,GAE3BgV,I,+BA0EC,IAAD,OACP,OACE,sBAAK9R,GAAG,SAAS+R,IAAK,SAAAvB,GAAW,EAAKA,MAAQA,GAAQxT,UAAU,YAAhE,UACE,cAAC,GAAD,IACA,qBAAKgD,GAAG,SAAR,sB,GA3VUO,aAwWHM,gBARS,SAACzB,GAAY,MAAO,MAEjB,SAAC2B,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,QAI3CE,CAA6CqD,cAAkBkK,KC5WxE4D,I,yDACJ,WAAY7S,GAAO,IAAD,8BAChB,cAAMA,IAED8S,SAAW,CACd,QACA,SACA,QACA,OACA,SAEF,EAAKC,QAAUpU,OAAOoF,WAAa,GACnC,EAAKiP,QAAU,GACf,EAAK/S,MAAQ,CACX2C,MAAO,GAGT,EAAKqQ,UAAY,EACjB,EAAKC,OAAS,EAjBE,E,qDAoBTtG,GACP,OAAIA,EACKxM,KAAK0S,SAAShR,QAAQ8K,GAExB,I,2CAIP,GAAIxM,KAAKJ,MAAMwB,QAAS,CACtB,IAAIyD,EAAM7E,KAAK+S,SAAS/S,KAAKJ,MAAMwB,QAAQ5C,SAAS+C,UAEpD,GAAIsD,GAAO,GAAK7E,KAAKH,MAAM2C,QAAUqC,EAAK,CACxC7E,KAAK6S,UAAY7S,KAAK8S,OACtB9S,KAAK8S,OAASjO,EACd7E,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEE2C,MAAOqC,KAGT,IAAI,IAAIkI,EAAI,EAAGA,EAAI/M,KAAK0S,SAASvU,SAAU4O,EACzCjN,IAAE,0BAAD,OAA2BiN,EAAE,IAAKhG,IAAI,UAAWgG,IAAIlI,EAAM,EAAI,GAG7D7E,KAAKJ,MAAMyC,UACdrC,KAAKJ,MAAMwC,aAAY,O,gCAOxBpC,KAAKJ,MAAMyC,UACdrC,KAAKJ,MAAMwC,aAAapC,KAAKJ,MAAMyC,Y,+BAI9BwC,GACP,IAAImO,EAAMnO,EAAM7E,KAAKH,MAAM2C,MAErBK,GADNmQ,EAAMA,EAAM,EAAI,EAAKA,GAAO,GAAK,EAAIA,GAClBhT,KAAK2S,QAClBjP,EAAQ,EAAoB,IAAhBuP,KAAKC,IAAIF,GAG3B,MAAO,CACLnQ,KAAMA,EACNC,IAJU,GAAKmQ,KAAKC,IAAIF,GAAOhT,KAAK4S,QAKpC/O,UAAU,SAAD,OAAWH,EAAX,Q,sCAIGmB,GAAM,IAAD,OACfrH,EAAQwC,KAAKmT,SAAStO,GACtBuO,EAAU,qBAAkBpT,KAAK8S,SAAWjO,GAAO7E,KAAK6S,YAAchO,EAAO,UAAY,QAE7F,OACE,qBAAKpE,GAAG,qBAAqBR,QAAS,WAAM,EAAKA,WAAjD,SACE,qBAAKQ,GAAE,eAAUoE,GACfrH,MAAOA,EACPC,UAAS,eAAUuC,KAAKJ,MAAMyC,SAAW,QAAS,QAAzC,YAAoD+Q,GAF/D,SAGI,qBAAK5V,MAAO,CAACsG,gBAAiB,oC,iCAM7Be,EAAKC,EAAMY,GACpB,IAAIlI,EAAQwC,KAAKmT,SAAStO,GACtBuO,EAAU,qBAAkBpT,KAAK8S,SAAWjO,GAAO7E,KAAK6S,YAAchO,EAAO,UAAY,QAE7F,OACE,qBAAKpE,GAAE,eAAUoE,GAAOrH,MAAOA,EAAOC,UAAS,qBAAgB2V,GAA/D,SACE,sBAAK3S,GAAG,UAAR,UACE,sBAAMhD,UAAU,iBAAhB,SAAkCqH,IAClC,8BACE,sBAAMrH,UAAU,aAAhB,SAA+BiI,a,+BAOhC,IACCzB,EAAMjE,KAAKJ,MAAXqE,EACR,OACE,sBAAKxD,GAAG,oBAAR,UACE,qBAAKA,GAAG,eAAehD,UAAU,eACjC,qBAAKgD,GAAG,eAAehD,UAAU,eACjC,qBAAKgD,GAAG,eAAehD,UAAU,eACjC,qBAAKgD,GAAG,eAAehD,UAAU,eACjC,qBAAKgD,GAAG,eAAehD,UAAU,eAChCuC,KAAKqT,gBAAgB,GACrBrT,KAAKsT,WAAW,EAAG,MAAOrP,EAAE,mBAC5BjE,KAAKsT,WAAW,EAAG,OAAQrP,EAAE,mBAC7BjE,KAAKsT,WAAW,EAAG,cAAerP,EAAE,mBACpCjE,KAAKsT,WAAW,EAAG,QAASrP,EAAE,0B,GAnHpBjD,cAyIJM,gBAjBS,SAACzB,GACvB,MAAO,CAEHwC,SAAUxC,EAAMwC,SAChBjB,QAASvB,EAAMuB,QACfvB,MAAOA,EAAMuB,QAAUvB,EAAMuB,QAAQ5C,SAAS+C,SAAW,OAIpC,SAACC,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,KACtDgB,YAAa,SAACC,GAAeb,EAASkD,EAAmBrC,QAK9Cf,CAA6CqD,cAAkB8N,KC7IxEc,I,yDACJ,WAAY3T,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,0DAOJ+B,GACZ,IAAI4R,EAAY5R,EAAKsI,MAAM,MACvB7F,EAAS,GAKb,OAHAmP,EAAUlP,SAAQ,SAAAL,GAChBI,EAAOtG,KAAK,6BAAKkG,QAEXI,I,sCAGMzC,EAAM8D,GACpB,GAAI9D,EACF,OACE,gCACE,6BAAK8D,IACL,qBAAKjF,GAAG,uBAAR,SACGmB,S,+BAQD,IACAqC,EAAMjE,KAAKJ,MAAXqE,EACJxD,EAAKT,KAAKJ,MAAMa,GAChBgT,EAAQxP,EAAE,cAAD,OAAexD,EAAf,WACTiT,EAAQzP,EAAE,cAAD,OAAexD,EAAf,WACTiF,EAAQzB,EAAE,SAAD,OAAUxD,IACnBW,EAAU6C,EAAE,cAAD,OAAexD,EAAf,aACXmB,EAAOqC,EAAE,cAAD,OAAexD,EAAf,UACRkT,EAAY1P,EAAE,cAAD,OAAexD,EAAf,eAEjB,OACE,sBAAKA,GAAG,kBAAR,UACE,oBAAIhD,UAAU,QAAd,SAAuBiI,IAEvB,sBAAKjF,GAAG,sBAAR,UACE,qBAAKhD,UAAU,aAAagI,IAAI,kCAAStB,IAAKsP,IAC9C,qBAAKhW,UAAU,cAAcgI,IAAI,wEAAiBtB,IAAKuP,OAGzD,6BAAKzP,EAAE,mBACP,6BACIjE,KAAK4T,cAAcxS,KAEtBpB,KAAK6T,gBAAgBF,EAAW1P,EAAE,oBACnC,6BAAKA,EAAE,sBACP,qBAAKxD,GAAG,uBAAR,SACGmB,W,GA1DeZ,cAgEX2D,iBAAkB4O,I,2DChEjCO,KACGC,IAAIC,MACJC,KAAK,CAEJC,UAAY,CAAEC,MAAIC,MAAIC,MAAIC,OAC1BC,YAAa,CAAC,KAAM,KAAM,KAAM,MAChC9K,IAAK,KAGL+K,OAAO,EAEPC,cAAe,CAAEC,aAAa,GAC9BC,UAAW,CAAEC,MAAO,CAAC,OAAQ,gBAGlBd,UAAf,ECVMe,G,kDACJ,WAAYjV,GAAO,IAAD,6BAGU,OAF1B,cAAMA,IAEGA,MAAMwB,SACb,EAAKxB,MAAMuC,WAAW,EAAKvC,MAAMwB,SAGnC,EAAKvB,MAAQ,CACX2C,MAAO,GAGT,EAAKsS,SAAW,CACd,CAAErU,GAAI,iBACJmC,SAAU,CAACC,KAAM,QAASC,IAAK,UACjC,CAAErC,GAAI,aACJmC,SAAU,CAACC,KAAM,QAASC,IAAK,UACjC,CAAErC,GAAI,eACJmC,SAAU,CAACC,KAAM,OAAQC,IAAK,UAChC,CAAErC,GAAI,cACJmC,SAAU,CAACC,KAAM,QAASC,IAAK,UACjC,CAAErC,GAAI,iBACJmC,SAAU,CAACC,KAAM,OAAQC,IAAK,UAChC,CAAErC,GAAI,iBACJmC,SAAU,CAACC,KAAM,QAASC,IAAK,UACjC,CAAErC,GAAI,aACJmC,SAAU,CAACC,KAAM,QAASC,IAAK,UACjC,CAAErC,GAAI,eACJmC,SAAU,CAACC,KAAM,QAASC,IAAK,WA3BnB,E,iEAgChBhD,IAAE,kBAAkBiV,UAAU,K,8BAGvBvS,GAEP,KAAIA,EAAQ,GAAKxC,KAAK8U,SAAS3W,QAAUqE,GAAzC,CAGA,IAAIwS,EAAW,CACXzT,SAAS,YAAD,OAAcvB,KAAK8U,SAAStS,GAAO/B,IAC3CZ,MAAM,eACDG,KAAKJ,MAAMpB,SAASqB,QAI7BG,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEE2C,MAAOA,KAGTxC,KAAKJ,MAAMwB,QAAQkH,QAAQ0M,M,iCAGlBrW,GAGT,IAFA,IAAIyJ,EAA0B,OAAlB0L,GAAKmB,SAAoB,EAAI,EACrC5Q,EAAS,GACJ0I,EAAI,EAAGA,EAAI3E,IAAS2E,EAC3B1I,EAAOtG,KAAKiC,KAAKwO,UAAU7P,EAAKoO,IAElC,OAAO1I,I,gCAGC1F,EAAK6D,EAAOnE,EAAMqE,GAAO,IAAD,OAE3B/D,IACHA,EAAMqB,KAAK8U,SAAS,GAAGrU,IAEzB,IAAIyU,EAAUlV,KAAKH,MAAM2C,QAAUA,EAC/BxC,KAAK8U,SAAStS,KAEhBnE,EAAOA,GAAc2B,KAAK8U,SAAStS,GAAO/B,GAC1CiC,EAAOA,GAAc1C,KAAKJ,MAAMqE,EAAX,gBAAsB5F,IAEvC6W,GAAWlV,KAAK8U,SAAStS,GAAO/B,KAAO9B,IACzCuW,GAAU,GAEPA,GAAWlV,KAAK8U,SAAStS,GAAO/B,KAAO9B,IAC1CuW,GAAU,IAId,IAAIC,EAAuB,OAAlBrB,GAAKmB,SAAoB,EAAI,EAClCG,EAAuB,OAAlBtB,GAAKmB,SAAoB,EAAI,EAElCxX,EAAY+E,GAAS2S,EAAK,SAAW,GAEzC,OACE,sBAAM1X,WAAYyX,EAAU,MAAQ,IAAMzX,EACxCwC,QAAU,WAAQ,EAAKA,QAAQuC,IADjC,SAEE,8BACGE,Q,wCAMP,IAAIlF,EAAQ,CAAEqF,KAAM7C,KAAKH,MAAMkO,eAC/B,OACE,sBAAKtQ,UAAU,+BAAf,UACE,qBAAKgD,GAAG,mBAAmBjD,MAAOA,EAAOC,UAAW,oBACpD,qBAAKgD,GAAG,mBAAmBjD,MAAOA,EAAOC,UAAW,kBACpD,qBAAKgD,GAAG,mBAAmBjD,MAAOA,EAAOC,UAAW,4B,oCAI3C,IAAD,OACR4G,EAAS,GAELJ,EAAMjE,KAAKJ,MAAXqE,EAWR,OATAjE,KAAK8U,SAASxQ,SAAQ,SAACC,EAAS/B,GAC9B6B,EAAOtG,KAAK,qBAAKN,UAAU,gBACzBwC,QAAS,WAAK,EAAKA,QAAQuC,IAC3BhF,MAAO+G,EAAQ3B,SAFL,SAGR,+BACGqB,EAAE,SAAD,OAAUM,EAAQ9D,aAIrB4D,I,mCAIP,IAAIX,EAAQnF,OAAOoF,WAAa,IAAMpF,OAAOoF,WAAa,IAAM,EAC5DC,EAAU,IAAMF,EAAQ,GAAQ,IAChClG,EAAQ,CACVqG,UAAU,SAAD,OAAWH,EAAX,KACTI,gBAAiB,6BACjBhB,IAAKc,GAGP,OACE,qBAAKnD,GAAG,gBAAgBhD,UAAU,qBAAlC,SACE,qBAAKD,MAAOA,EAAOiD,GAAG,eAAtB,SACIT,KAAKgE,oB,mCAMFrF,GACX,IAAIlB,EAA8B,OAAlBqW,GAAKmB,SAAoB,KAAO,GAChD,OACE,sBAAKxU,GAAG,gBAAR,UACE,qBAAKA,GAAG,eAAehD,UAAWA,EAAlC,SACGuC,KAAKqV,WAAW1W,KAEnB,qBAAK8B,GAAG,uBAAuBhD,UAAWA,EAA1C,SACE,cAAC,GAAD,CAAagD,GAAK9B,GAAYqB,KAAK8U,SAAS9U,KAAKH,MAAM2C,OAAO/B,Y,+BAK5D,IACF9B,EAAQqB,KAAKJ,MAAM0L,MAAnB3M,IAGN,OAFAA,EAAMA,EAAIuL,MAAM,KAAK,GAGnB,qBAAKzJ,GAAG,WAAR,SACI9B,EAAMqB,KAAKmM,aAAaxN,GAAOqB,KAAKwE,mB,GAlK1BxD,aA+KLM,gBARS,SAACzB,GAAY,MAAO,MAEjB,SAAC2B,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,QAI3CE,CAA6CqD,cAAkBkQ,K,8BClLxES,G,kDACJ,WAAY1V,GAAO,IAAD,6BAGU,OAF1B,cAAMA,IAEGA,MAAMwB,SACb,EAAKxB,MAAMuC,WAAW,EAAKvC,MAAMwB,SAGnC,EAAKvB,MAAQ,CACX0V,aAAc,KACdlX,KAAM,+CATQ,E,4DAaFmX,GACdzW,QAAQC,IAAIwW,EAAM9H,OAAO+H,MAAM,IAC/BzV,KAAKyD,SAAS,CACZ8R,aAAcC,EAAM9H,OAAO+H,MAAM,GACjCpD,OAAQ,EACRhU,KAAMqX,IAAIC,gBAAgBH,EAAM9H,OAAO+H,MAAM,Q,mCAIpCD,GACXA,EAAMI,iBAEN,IAAMC,EAAW,IAAIC,SACbP,EAAiBvV,KAAKH,MAAtB0V,aAERM,EAASE,OAAO,YAAaR,GAE7BS,MAAM5X,EAAO,qBAAsB,CACjC6X,OAAQ,OACRpO,KAAMgO,M,+BAID,IAAD,OACN,OACE,sBAAKrY,MAAO,CAACoF,SAAU,YAAvB,UACE,cAAC,KAAD,CACEnF,UAAU,eACVsG,MAAM,MAAMxG,OAAO,OACnBoB,IAAKqB,KAAKH,MAAMxB,KAAM6X,SAAS,EAAOC,UAAU,IAElD,uBAAK,uBACL,uBAAMC,SAAW,SAACZ,GAAY,EAAKa,aAAab,IAAhD,UACE,oDACiB,uBAAK,uBACpB,uBAAOhV,KAAK,OAAOkC,KAAK,OAAO4T,SAAW,SAACd,GAAY,EAAKe,gBAAgBf,SAE9E,uBAAK,uBACL,wBAAQhV,KAAK,SAAb,uBAEF,+CACA,uBAAK,uBAAK,uBAAK,8B,GAvDFQ,aA2ENM,gBAbS,SAACzB,GACvB,MAAO,MAKkB,SAAC2B,GAC1B,MAAO,CACLW,WAAY,SAACf,GAAcI,EAASkD,EAAkBtD,QAK3CE,CAA6CgU,IC7B7CkB,I,yDA9Cb,WAAY5W,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,CACXoV,SAAUnB,GAAKmB,UAJD,E,2DAQFzR,GACVxD,KAAKH,MAAMoV,WAAazR,IAE1BsQ,GAAK2C,eAAejT,GACpBxD,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEEoV,SAAUzR,Q,0CAMdjF,OAAOmY,aAAa,uB,+BAGb,IAAD,OACN,OACE,sBAAKjW,GAAG,qBAAR,UACE,qBAAKkW,MAAM,mBAAmBC,KAAK,IAAIC,cAAY,YAAnD,SACE,qBAAK1S,IAAG,4BAAuBnE,KAAKH,MAAMoV,SAAlC,YAEV,qBAAIxU,GAAG,YAAYkW,MAAM,mBAAzB,UACE,6BAAI,mBAAG1W,QAAU,WAAO,EAAKwW,eAAe,OAAxC,kCACJ,6BAAI,mBAAGxW,QAAU,WAAO,EAAKwW,eAAe,OAAxC,uBACJ,6BAAI,mBAAGxW,QAAU,WAAO,EAAKwW,eAAe,OAAxC,wCACJ,6BAAI,mBAAGxW,QAAU,WAAO,EAAKwW,eAAe,OAAxC,4C,GAlCezV,cCcd8V,G,kDAfb,WAAYlX,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,qDAQhB,OACE,qBAAKrC,MAAO,CAACoF,SAAU,WAAYE,IAAK,KAAxC,SACE,cAAC,GAAD,U,GAXiB9B,aCiCV+V,G,kDA5Bb,WAAYnX,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,qDAQhB,OACE,sBAAKY,GAAG,UAAR,UACE,cAAC,GAAD,IACA,eAAC,KAAD,WACE,cAAC,KAAD,CAAOpC,KAAK,QAAQ2Y,UAAW/R,IAC/B,cAAC,KAAD,CAAOgS,OAAK,EAAC5Y,KAAK,SAAS2Y,UAAWnC,KACtC,cAAC,KAAD,CAAOxW,KAAK,eAAe2Y,UAAWnC,KACtC,cAAC,KAAD,CAAOxW,KAAK,OAAO2Y,UAAWnI,KAC9B,cAAC,KAAD,CAAOxQ,KAAK,QAAQ2Y,UAAW1U,IAC/B,cAAC,KAAD,CAAOjE,KAAK,UAAU2Y,UAAW1B,KACjC,cAAC,KAAD,CAAO2B,OAAK,EAAC5Y,KAAK,QAAQ2Y,UAAW1Q,KACrC,cAAC,KAAD,CAAOjI,KAAK,YAAY2Y,UAAWF,KACnC,cAAC,KAAD,CAAOzY,KAAK,mBAAmB2Y,UAAWrJ,KAC1C,cAAC,KAAD,CAAU3I,GAAG,aAEf,cAAC,GAAD,W,GAxBWhE,a,SCCbkW,I,yDACJ,WAAYtX,GAAO,IAAD,8BAChB,cAAMA,IAEDuX,eAAiB,EACtB,EAAKzE,SAAW,CACd,QACA,SACA,QACA,OACA,SAEF,EAAK7S,MAAQ,CACXkE,MAAO,EACPxG,OAAQ,EACRsQ,KAAM,OACNC,QAAS,GACTjL,KAAM,OAER,EAAKuU,uBAAyB,EAAKA,uBAAuBC,KAA5B,iBAlBd,E,qDAqBT7U,GACP,GAAIA,GAAS,GAAKA,EAAQxC,KAAK0S,SAASvU,OAAQ,CAC9C6B,KAAKmX,eAAiB3U,EACtB,IAAIwS,EAAW,CACbzT,SAAUvB,KAAK0S,SAASlQ,IAE1BxC,KAAKJ,MAAMwB,QAAQkH,QAAQ0M,M,6BAIxB9G,GAILlO,KAAKmO,SAASnO,KAAKmX,eAAiB,K,8BAG9BjJ,GAINlO,KAAKmO,SAASnO,KAAKmX,eAAiB,K,0CAKpC5Y,OAAO+Y,iBAAiB,SAAUtX,KAAKoX,wBACvCpX,KAAKoX,2B,6CAIL7Y,OAAOgZ,oBAAoB,SAAUvX,KAAKoX,0B,+CAI1CpX,KAAKyD,SAAS,CACZM,MAAOxF,OAAOoF,WACdpG,OAAQgB,OAAOiZ,gB,wCAKjB,GAAIxX,KAAKmX,gBAAkB,GAAKnX,KAAKH,MAAMiO,UAAY9N,KAAKH,MAAMgO,KAAM,CACtE,IAAI9J,EAA2B,GAAnB/D,KAAKH,MAAMkE,MAEnBlB,EAAO7C,KAAKmX,eAAiBpT,EAAQ,KAErC/D,KAAKH,MAAMgD,OAASA,GACtB7C,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEEiO,QAAS9N,KAAKH,MAAMgO,KACpBhL,KAAMA,KAIZ,OAAQ,sBAAKpF,UAAU,+BAAf,UACJ,qBAAKgD,GAAG,UAAUjD,MAAO,CAACqF,KAAM7C,KAAKH,MAAMgD,MAAOpF,UAAW,oBAC7D,qBAAKgD,GAAG,UAAUjD,MAAO,CAACqF,KAAM7C,KAAKH,MAAMgD,MAAOpF,UAAW,kBAC7D,qBAAKgD,GAAG,UAAUjD,MAAO,CAACqF,KAAM7C,KAAKH,MAAMgD,MAAOpF,UAAW,4B,mCAIrDmH,EAAMhD,GAClB,IAAInE,EAAY,kDAEhB,GAAIS,EAAc8B,KAAKJ,MAAMC,OACd,UAAT+E,IACFnH,GAAa,YACbuC,KAAKmX,eAAiB,EACtBrX,IAAE,cAAcwO,KAAK,QAAS,wBAG7B,GAAItO,KAAKJ,MAAMC,MAAMvB,WAAWsG,KACnCnH,GAAa,YACbuC,KAAKmX,eAAiBnX,KAAK0S,SAAShR,QAAQkD,IAEf,IAAzB5E,KAAKmX,gBAAuB,CAC9B,IAAItJ,EAAOjJ,EAAK6S,MAAM,GAClBzX,KAAKH,MAAMgO,OAASA,GACtB7N,KAAKyD,SAAL,2BACKzD,KAAKH,OADV,IAEEgO,KAAMA,KAOd,OADKjJ,IAAMA,EAAO,IACV,oBAAI+R,MAAM,aAAV,SACN,cAAC,IAAD,CAAMlZ,UAAWA,EAAWuH,GAAIJ,EAAhC,SACGhD,Q,qCAKS4B,GAEdsQ,GAAK2C,eAAejT,K,+BAIpB,OAAIxD,KAAKJ,MAAMyC,UAAiC,UAArBrC,KAAKJ,MAAMC,MAElC,sBAAKY,GAAG,YAAYhD,UAAU,MAA9B,UACE,+BACGuC,KAAK0X,aAAa,QAAS,QAC3B1X,KAAK0X,aAAa,SAAU,OAC5B1X,KAAK0X,aAAa,QAAS,QAC3B1X,KAAK0X,aAAa,OAAQ,eAC1B1X,KAAK0X,aAAa,QAAS,YAE7B1X,KAAKyO,qBAIF,4B,GAzIWzN,cA2JVM,gBAbS,SAACzB,GACvB,MAAO,CACLwC,SAAUxC,EAAMwC,SAChBjB,QAASvB,EAAMuB,QACfvB,MAAOA,EAAMuB,QAAUvB,EAAMuB,QAAQ5C,SAAS+C,SAAW,OAIlC,SAACC,GAC1B,MAAO,KAIMF,CAA6C4V,IChJ7CS,G,kDAfb,WAAY/X,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,qDAQhB,OACE,8BACE,cAAC,GAAD,U,GAXamB,aCmBN4W,I,yDAjBb,WAAYhY,GAAO,IAAD,8BAChB,cAAMA,IAEDC,MAAQ,GAHG,E,qDAQhB,OACE,gCACE,cAAC,GAAD,IACA,cAAC,EAAD,IACA,cAAC,GAAD,W,GAbUmB,c,SCDZ6W,GAAe,CAGjBzW,aAASU,EACT8E,cAAU9E,EACVO,UAAU,GAiDCyV,OAtCf,WAAgD,IAA/BjY,EAA8B,uDAAtBgY,GAAcnT,EAAQ,uCAE3C,OAAQA,EAAOlE,MACX,KAAKuX,EACD,OAAO,2BACAlY,GADP,IAEIuB,QAASsD,EAAOtD,UAExB,KAAK2W,EACD,OAAO,2BACAlY,GADP,IAEI+G,SAAUlC,EAAOkC,WAEzB,KAAKmR,EACD,OAAO,2BACAlY,GADP,IAEIwC,SAAUqC,EAAOrC,WAiBzB,QACI,OAAOxC,IC1CbmY,GAAQC,aAAYC,IAE1BC,IAASrH,OACP,cAAC,IAAD,CAAUkH,MAAOA,GAAjB,SACE,cAAC,IAAD,UACE,cAAC,IAAMI,WAAP,UACE,cAAC,GAAD,UAIN5N,SAASC,eAAe,W","file":"static/js/main.9a759c19.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport request from 'request'\r\n\r\nexport const blankDiv = (height) => {\r\n  if (height) {\r\n    var style = { height : height };\r\n    return (<div className='blank' style={style}/>);\r\n  }\r\n  return (<div className='blank' />);\r\n}\r\n\r\nexport const numberFormat = (inputNumber) => {\r\n  return inputNumber.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n\r\nexport const getQueryString = (data) => {\r\n  var str = [];\r\n  for (var p in data) {\r\n    if (data.hasOwnProperty(p)) {\r\n      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(data[p]));\r\n    }\r\n  }\r\n  return str.join('&');\r\n}\r\n\r\nexport const getUrlParams = () => {\r\n  var params = {};\r\n  window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(str, key, value) { params[key] = value; });\r\n  return params;\r\n}\r\n\r\nexport const isNullOrEmpty = (str) => {\r\n    return (typeof str == 'undefined' || !str || str.length === 0 || str === \"\");\r\n}\r\n\r\nexport const getUrl = (path) => {\r\n    if (path.startsWith('www') || path.startsWith('http')) {\r\n        return path;\r\n    }\r\n    if (window.location.hostname === 'localhost') {\r\n\r\n      //return 'http://localhost:5001/pcar-fc2aa/us-central1/api/' + path;\r\n      return 'http://localhost/api/' + path;\r\n    }\r\n    else {\r\n      /*var uri = window.location.protocol + '//' + window.location.hostname;\r\n      return uri + '/api/' + path;*/\r\n        return window.location.origin + '/api/' + path;\r\n    }\r\n    //return path;\r\n}\r\n\r\nasync function requestGet(url, data, success, fail) {\r\n  url = getUrl(url);\r\n  console.log('request get => ' + url + '?' + getQueryString(data));\r\n  axios.get(url + '?' + getQueryString(data))\r\n      .then(response => {\r\n          if (success) {\r\n              //success(JSON.parse(response.data.message).data);\r\n              success(response.data.message);\r\n          }\r\n          console.log('response complete: ' + url);\r\n      })\r\n      .catch(error => {\r\n          if (fail) {\r\n              fail(error);\r\n          }\r\n          console.log(error);\r\n      });\r\n}\r\n\r\nasync function requestPost(url, data, success, fail) {\r\n  console.log('request : ' + url);\r\n  url = getUrl(url);\r\n  axios.post(url, data)\r\n      .then(response => {\r\n          if (success) {\r\n              success(response.data.data);\r\n          }\r\n          console.log('response complete: ' + url);\r\n      })\r\n      .catch(error => {\r\n          if (fail) {\r\n              fail(error);\r\n          }\r\n          console.error(error);\r\n      });\r\n}\r\n\r\nexport const get = (url, data, success, fail) => {\r\n  //data.fbuid = fire.getUid();\r\n  requestGet(url, data, success, fail);\r\n}\r\n\r\nexport const post = (url, data, success, fail) => {\r\n  //data.fbuid = fire.getUid();\r\n  requestPost(url, data, success, fail);\r\n}\r\n\r\nconst authKey = '8q3WELhSGkqUm454ueMo0YT5G9zNUXs%2BNMTcZsudRJJjqNiFg1ndC2BrwzH8wZGT02erhWKigm76GCtTpZA5bQ%3D%3D';\r\nexport const getTourAuthKey = () => {\r\n  return decodeURIComponent(authKey);\r\n}\r\n\r\nexport const getRequest = (url, data, success, fail) => {\r\n  request(url + '?' + getQueryString(data), function (error, response, body) {\r\n    \r\n    if (response && response.statusCode) {\r\n      if (success) {\r\n        const result = JSON.parse(body);\r\n        success(JSON.parse(result.message).data);\r\n      }\r\n    }\r\n    else {\r\n      if (fail) {\r\n        fail(error);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexport default this;","import React, { Component } from 'react';\r\nimport \"./HambergerButton.css\";\r\nimport $ from 'jquery';\r\nimport { isNullOrEmpty } from 'utils';\r\n\r\nconst defaultProps = {\r\n  color: 'black'\r\n}\r\n\r\nclass HambergerButton extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  onToggle() {\r\n\r\n    //var result = $('#dv-sidebar').toggleClass('show');\r\n    $('#nav-icon3').toggleClass('open');\r\n\r\n    if (this.props.onClick != null) {\r\n      var show = $('#nav-icon3').hasClass('open');\r\n      this.props.onClick(show);\r\n    }\r\n  }\r\n\r\n  renderIcon() {\r\n    var style = {\r\n      marginTop: '20px',\r\n      marginLeft: '20px',\r\n      marginRight: '20px',\r\n    }\r\n    \r\n    var spanStyle = {\r\n        background: this.props.color,\r\n    }\r\n    //console.log(spanStyle);\r\n\r\n    var className = 'headerLabel';\r\n    if (!isNullOrEmpty(this.props.align)) {\r\n      className += ' ' + this.props.align;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <input type='checkbox' id='headerMenu'/>\r\n        <label style={style} \r\n          className={className}\r\n          htmlFor='headerMenu' \r\n          id='nav-icon3'\r\n          onClick={()=> { this.onToggle(); }}>\r\n          <div id='nav-icon3'>\r\n            <span style={spanStyle}></span>\r\n            <span style={spanStyle}></span>\r\n            <span style={spanStyle}></span>\r\n            <span style={spanStyle}></span>\r\n          </div>\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        { this.renderIcon() }\r\n      </div>);\r\n  }\r\n}\r\n\r\nHambergerButton.defaultProps = defaultProps;\r\n\r\nexport default HambergerButton;","import React, { Component } from 'react';\r\nimport \"./BackButton.css\";\r\nimport { connect } from 'react-redux';\r\nimport { isNullOrEmpty } from 'utils';\r\n//import * as action from 'action';\r\n\r\nclass BackButton extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      current: ''\r\n    }\r\n  }\r\n  \r\n  onClick(){\r\n    if (this.props.history) {\r\n      this.props.history.goBack();\r\n    }\r\n  }\r\n\r\n  renderIcon() {\r\n    if (isNullOrEmpty(this.props.state) \r\n    || this.props.state === '/'\r\n    || this.props.state === '/main') {\r\n      return;\r\n    }\r\n    var style = {\r\n      marginTop: '3px',\r\n      marginLeft: '3px',\r\n    }\r\n    \r\n    var spanStyle = {\r\n        background: 'rgb(117, 117, 117)',\r\n    }\r\n\r\n    return (\r\n      <div id='dv-back-button'>\r\n        <label style={style} onClick={()=> { this.onClick(); }}>\r\n          <div id='button-back-icon'>\r\n            <span style={spanStyle}></span>\r\n            <span style={spanStyle}></span>\r\n            <span style={spanStyle}></span>\r\n          </div>\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        { this.renderIcon() }\r\n      </div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    history: state.history,\r\n    state: state.history ? state.history.location.pathname : '',\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BackButton);","import React, { Component } from 'react';\r\nimport \"./HeaderMenu.css\";\r\nimport HambergerButton from 'component/UI/HambergerButton';\r\nimport BackButton from 'component/UI/BackButton';\r\nimport { isNullOrEmpty } from 'utils';\r\nimport { connect } from 'react-redux';\r\n\r\nclass HeaderMenu extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      current: ''\r\n    }\r\n  }\r\n\r\n  renderHamberger(show){\r\n    if (show) {\r\n      return (\r\n        <div className='cell'>\r\n          <HambergerButton align='right' color={'#757575'} onClick={ (show) => { console.log(show)} }/>\r\n        </div>\r\n        );\r\n    }\r\n    else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  render(){\r\n    if (!isNullOrEmpty(this.props.state) && this.props.state.indexOf('/tour/') > -1) {\r\n      return (\r\n        <div id='dv-header-menu'>\r\n          <div className='table'>\r\n            <div className='cell'>\r\n              <BackButton history={this.props.history} />\r\n            </div>\r\n          </div>\r\n        </div>);\r\n    }\r\n    return (\r\n      <div id='dv-header-menu' className='hidden'>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    history: state.history,\r\n    state: state.history ? state.history.location.pathname : '',\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderMenu);","import React, { Component } from 'react';\r\nimport HeaderMenu from 'component/Header/HeaderMenu';\r\n\r\nclass Header extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <HeaderMenu />\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport \"./Button.css\";\r\n\r\nconst propTypes = {\r\n  text: PropTypes.string,\r\n  value: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nconst defaultProps = {\r\n  text: '',\r\n  value: '',\r\n  onClick: undefined,\r\n};\r\n\r\nclass Button extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className='dv-button'>\r\n        <div onClick={() => { this.props.onClick(this.props.value); }}>\r\n          {this.props.text}\r\n        </div>\r\n      </div>);\r\n  }\r\n}\r\n\r\nButton.propTypes = propTypes;\r\nButton.defaultProps = defaultProps;\r\n\r\nexport default Button;","/*\r\n    action     . (action creators)\r\n     () => ({}) , function() { return { } }   .\r\n    scope     .\r\n*/\r\nexport const INCREMENT = 'INCREMENT';\r\nexport const DECREMENT = 'DECREMENT';\r\nexport const SET_COLOR = 'SET_COLOR';\r\nexport const SET_HISTORY = 'SET_HISTORY';\r\nexport const SET_TOUR_DATA = 'SET_TOUR_DATA';\r\nexport const SET_SHOW_MENU = 'SET_SHOW_MENU';\r\n\r\nexport const increment = () => ({\r\n    type: INCREMENT\r\n});\r\n\r\nexport const decrement = () => ({\r\n    type: DECREMENT\r\n});\r\n\r\n//    ,  \r\nexport const setColor = (color) => ({\r\n    type: SET_COLOR,\r\n    color\r\n});\r\n\r\nexport const setHistory = (history) => ({\r\n    type: SET_HISTORY,\r\n    history,\r\n});\r\n\r\nexport const setTourData = (tourData) => ({\r\n    type: SET_TOUR_DATA,\r\n    tourData,\r\n});\r\n\r\nexport const setShowMenu = (showMenu)=> ({\r\n    type: SET_SHOW_MENU,\r\n    showMenu,\r\n});","import React, { Component } from 'react';\r\nimport Button from 'component/UI/Button';\r\nimport { connect } from 'react-redux';\r\nimport * as action from 'action';\r\nimport { blankDiv } from 'utils';\r\nimport './Game.css';\r\nimport { withTranslation } from 'react-i18next';\r\n//import $ from 'jquery';\r\n\r\nclass Game extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if (this.props.history != null) {\r\n      this.props.setHistory(this.props.history);\r\n    }\r\n\r\n    this.state = {\r\n      showPopup: false,\r\n      index: 0,\r\n    }\r\n    \r\n    this.spots = [\r\n      { id: 'spot_00', \r\n        name: ' ',\r\n        img: '//tong.visitkorea.or.kr/cms/resource/35/2365235_image2_1.jpg',\r\n        position: { left: '91px', top: '139px' } },\r\n      { id: 'spot_01', \r\n        name: ' ',\r\n        img: '//tong.visitkorea.or.kr/cms/resource/34/1825134_image2_1.jpg',\r\n        position: { left: '207px', top: '326px' } },\r\n      { id: 'spot_02', \r\n        name: '',\r\n        img: '//tong.visitkorea.or.kr/cms/resource/94/1840794_image2_1.jpg',\r\n        position: { left: '246px', top: '50px' } },\r\n      { id: 'spot_03', \r\n        name: ' ',\r\n        img: '//tour.pc.go.kr/files/2017/03/15/374003e40abb30eb7095ce657eb6a91c141027.jpg',\r\n        position: { left: '103px', top: '354px' } },\r\n      { id: 'spot_04', \r\n        name: ' ',\r\n        img: '//i.ytimg.com/vi/rRZZma7LPh4/maxresdefault.jpg',\r\n        position: { left: '340px', top: '90px' } },\r\n      { id: 'spot_05', \r\n        name: ' ',\r\n        img:'//www.festival700.or.kr/upload/board/thumb/607779C69FEBA5.jpg',\r\n        position: { left: '196px', top: '176px' } },\r\n    ];\r\n  }\r\n\r\n  startUnity(scene) {\r\n    try {\r\n      switch(window.os) {\r\n        case 'AND':\r\n          if (window.Android) {\r\n            window.Android.startUnity(scene);\r\n          }\r\n          break;\r\n        case 'IOS':\r\n          //console.log('send to ios');\r\n          window.webkit.messageHandlers.buttonClicked.postMessage({ ButtonId: scene });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    catch(e){\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  onClick(index) {\r\n    this.setState({\r\n      ...this.state,\r\n      showPopup: true,\r\n      index: index,\r\n    })\r\n  }\r\n\r\n  renderMain() {\r\n    var scale = window.innerWidth > 402 ? window.innerWidth / 402 : 1;\r\n    var offset = (469 * scale * 0.5) - (469 * 0.5);\r\n    var style = {\r\n      transform: `scale(${scale})`,\r\n      backgroundImage: 'url(/resources/game_map.png)',\r\n      top: offset,\r\n      width: '402px',\r\n      height: '469px',      \r\n    };\r\n\r\n    return (\r\n      <div id='dv-game-main' className='transition-default'>\r\n        <div style={style} id='dv-game-map'>\r\n          { this.renderItems() }\r\n        </div>\r\n      </div>\r\n      );\r\n  }\r\n\r\n  onHide() {\r\n    this.setState({\r\n      ...this.state,\r\n      showPopup: false,\r\n    })\r\n  }\r\n\r\n  renderPopup() {\r\n    const { t } = this.props;\r\n    var data = this.spots[this.state.index];\r\n    return (\r\n      <div id='dv-game-popup'>\r\n        <div className={`popup-back ${this.state.showPopup ? 'show' : 'hidden'}`} onClick={()=>{ this.onHide(); }}>\r\n          <div className='transition-default'/>\r\n        </div>\r\n        <div className={`transition-fast popup-window ${this.state.showPopup ? 'show' : 'hidden'}`}>\r\n          <div className='popup-image'>\r\n            <img src={data.img} />\r\n          </div>\r\n          <div className='popup-body'>\r\n            <div className='title'><b>{t(`about.${data.id}`)}</b></div>\r\n            <div>    374-8</div>\r\n            <div className='popup-button-group'>\r\n              <div className='popup-button'>{t('ar.info')}</div>\r\n              <div className='popup-button'>{t('ar.directions')}</div>\r\n            </div>\r\n            <div className='popup-button-play'>{t('ar.play')}</div>\r\n          </div>\r\n        </div>        \r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderButtonOld(){\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Button text={t('game.artest')} value={\"Artest\"} \r\n          onClick={ (obj) => { this.onClick(obj); } }/>\r\n        <Button text={t('game.avo')} value={\"Avo\"}\r\n          onClick={ (obj) => { this.onClick(obj); } }/>\r\n        <Button text={t('game.mole')} value={\"Mole\"}\r\n          onClick={ (obj) => { this.onClick(obj); } }/>\r\n        <Button text={\"POI TEST\"} value={\"POI\"}\r\n          onClick={ (obj) => { this.onClick(obj); } }/>\r\n        <Button text={t('game.sliding')} value={\"Sliding\"}\r\n          onClick={ (obj) => { this.onClick(obj); } }/>\r\n      </div>);\r\n  }\r\n\r\n  renderItems() {\r\n    var result = [];\r\n    const { t } = this.props;\r\n\r\n    this.spots.forEach((element, index) => {\r\n      var name = t(`about.${element.id}`);\r\n      //name = element.name;\r\n      result.push(\r\n        <div className='game-item'           \r\n        onClick={()=>{this.onClick(index)}}\r\n        style={element.position}>\r\n          <img src='/resources/icon.png' className={index % 2 === 0 ? 'gray' : ''}/>\r\n          <div>\r\n            <span>\r\n              {name}\r\n            </span>\r\n          </div>\r\n        </div>);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id='dv-game'>\r\n        {blankDiv('50px')}\r\n        <div id='dv-game-button-list' className='show'>\r\n          {this.renderMain()}\r\n          {this.renderPopup()}\r\n        </div>\r\n      { blankDiv('60px') }\r\n      </div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      //user: state.auth.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) }\r\n      //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(Game));","import React, { Component } from 'react';\r\nimport \"./Button.css\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst propTypes = {\r\n};\r\n\r\nconst defaultProps = {\r\n  text: '',\r\n  value: '',\r\n  link: '/',\r\n  onClick: undefined,\r\n  idx: 0,\r\n  icon: '',\r\n};\r\n\r\nclass LinkButton extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className='dv-button'>\r\n        <Link to={this.props.link}>\r\n          <span className={`material-icons gradient-${this.props.idx}`}>\r\n            {this.props.icon}\r\n          </span>\r\n          {this.props.text}\r\n        </Link>\r\n      </div>);\r\n  }\r\n}\r\n\r\nLinkButton.propTypes = propTypes;\r\nLinkButton.defaultProps = defaultProps;\r\n\r\nexport default LinkButton;","import React, { Component } from 'react';\r\nimport LinkButton from 'component/UI/LinkButton';\r\nimport { connect } from 'react-redux';\r\nimport * as action from 'action';\r\nimport { blankDiv } from 'utils';\r\nimport './Main.css';\r\n//import $ from 'jquery';\r\nimport { withTranslation, /*useTranslation*/ } from 'react-i18next';\r\n//import i18n from 'utils/i18n';\r\n\r\nclass Main extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if (this.props.history != null) {\r\n      this.props.setHistory(this.props.history);\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <div id='dv-main'>\r\n        {blankDiv('50px')}\r\n        <div id='dv-main-button-list' className={this.props.showMenu ? 'show': 'hide'}>\r\n          <div id='dv-main-buttons'>\r\n            <LinkButton idx={1} \r\n              icon={'map'}\r\n              text={t(\"main.button_00\")} \r\n              link='/about'/>\r\n              \r\n            <LinkButton idx={2} \r\n              text={t('main.button_01')} \r\n              icon={'tour'}\r\n              link='/tour'/>\r\n          </div>\r\n          <div id='dv-main-buttons'>      \r\n            <LinkButton idx={3} \r\n              text={t('main.button_02')} \r\n              icon={'location_on'}\r\n              link='/poi'/>\r\n              \r\n            <LinkButton idx={4} \r\n              text={t('main.button_03')} \r\n              icon={'games'}\r\n              link='/game'/>\r\n          </div>\r\n          <div style={{width: '80vw', marginLeft: '10vw', fontSize: '12px'}}>\r\n            { blankDiv('570px') }\r\n            <b>browser info: </b>\r\n            <br/>\r\n            { window.navigator.userAgent }\r\n            <br/>\r\n            <br/>          \r\n            <b>os:</b>{` ${window.os}`}\r\n            { blankDiv('70px') }\r\n          </div>\r\n        </div>\r\n      </div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      //user: state.auth.user\r\n      showMenu: state.showMenu\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) },\r\n    setShowMenu: (showMenu) => { dispatch(action.setShowMenu(showMenu)) }\r\n      //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(Main));","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./TourItem.css\";\r\n\r\nclass TourItem extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  onClick(){\r\n    /*var linkData = { \r\n      pathname: '/tour/' + this.props.data.contentid.toString(),\r\n      state: {\r\n        ...this.props.location.state,\r\n        contentId: this.props.data.contentid,\r\n        contentTypeId: this.props.contentTypeId,\r\n      }\r\n    }*/\r\n  }\r\n\r\n  render(){\r\n    //console.log(this.props.data);\r\n    const path = `/tour/${this.props.data.contenttypeid}/${this.props.data.contentid}`\r\n    return (\r\n      <div>\r\n        <Link id='dv-tour-item' to={path}>\r\n          <div className='tour-item'>\r\n            <div className='tour-img-small'>\r\n              <img src={this.props.data.firstimage2} alt='firstimage2'/>\r\n            </div>\r\n            <div id='dv-tour-name'>\r\n              <p className='tour-name'>\r\n                {this.props.data.title}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div id='dv-tour-arrow'> \r\n            <div className='tour-arrow' />\r\n          </div>          \r\n        </Link>        \r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default TourItem;","import React, { Component } from 'react';\r\nimport \"./TourItem.css\";\r\nimport \"./TourCategoryItem.css\";\r\n\r\nclass TourCategoryItem extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  onClick() {\r\n    if (this.props.data) {\r\n      this.props.onClick(this.props.data.value);\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        <div id='dv-tour-item' onClick={ () => { this.onClick(); } }>\r\n          <div className='tour-item'>\r\n            <div className={`category icon category-gradient-${this.props.data.value} material-icons`}>\r\n              {this.props.data.icon}\r\n            </div>\r\n            <p className='tour-name'>\r\n              {this.props.title}\r\n            </p>\r\n          </div>\r\n          <div id='dv-tour-arrow'> \r\n            <div className='tour-arrow' />\r\n          </div>\r\n        </div>  \r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default TourCategoryItem;","import React, { Component } from 'react';\r\nimport './Indicator.css';\r\n\r\nclass Indicator extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id='dv-indicator'>\r\n        <svg id=\"indicator\" viewBox=\"0 0 100 100\">\r\n          <defs>\r\n            <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n              <stop offset=\"0%\" stop-color=\"#00bc9b\" />\r\n              <stop offset=\"100%\" stop-color=\"#5eaefd\" />\r\n            </linearGradient>\r\n          </defs>\r\n          <circle id=\"circle-back\" cx=\"50\" cy=\"50\" r=\"45\"></circle>\r\n          <circle id=\"circle\" cx=\"50\" cy=\"50\" r=\"45\"></circle>\r\n        </svg>\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default Indicator;","import React, { Component } from 'react';\r\nimport { get, getTourAuthKey, isNullOrEmpty } from 'utils';\r\nimport TourItem from './TourItem';\r\nimport { connect } from 'react-redux';\r\nimport * as action from 'action';\r\nimport { blankDiv } from 'utils';\r\nimport './Tour.css';\r\nimport $ from 'jquery';\r\nimport TourCategoryItem from './TourCategoryItem';\r\nimport Indicator from 'component/UI/Indicator';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nconst uri = 'tour/areaBasedList';\r\n\r\nclass Tour extends Component {\r\n    constructor(props){\r\n    super(props);\r\n\r\n    if (this.props.history != null) {\r\n      this.props.setHistory(this.props.history);\r\n    }\r\n\r\n    this.enumCat = {\r\n      'A01': '',  // /\r\n      'A02': '(//)',\r\n      'A03': '',\r\n      'C01': '',\r\n      'B02': '',\r\n      'A04': '',\r\n      'A05': '',\r\n    }\r\n\r\n    this.eToCat = {\r\n      'A01': '1', \r\n      'A02': '2', \r\n      'A03': '4', \r\n      'C01': '3',\r\n      'B02': '0',\r\n      'A04': '0',\r\n      'A05': '0',\r\n    }\r\n\r\n    this.category = [\r\n      { value: '0', label: '', icon: 'home', filters: ['', '', '']},\r\n      { value: '1', label: '/', icon: 'filter_hdr', filters: ['']},\r\n      { value: '2', label: '', icon: 'account_balance', filters: ['(//)']},\r\n      { value: '3', label: '', icon: 'nature_people', filters: ['']},\r\n      { value: '4', label: '/', icon: 'golf_course', filters: ['']},\r\n    ];\r\n\r\n    this.state = {\r\n      data: {},\r\n      category: '0',\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.tourData) {\r\n      this.requestList();\r\n    }\r\n  }\r\n\r\n  onClickCategory(key) {\r\n    $('.anchor').css('transform', 'translateX(-50%)');\r\n    this.setState({\r\n      ...this.state,\r\n      category: key,\r\n    })\r\n  }\r\n\r\n  requestList() {\r\n    var data = {\r\n      ServiceKey: getTourAuthKey(),\r\n      //contentTypeId: 12,\r\n      areaCode: 32,\r\n      sigunguCode: 15,\r\n      listYN: 'Y',\r\n      MobileOS: window.os,\r\n      MobileApp: window.appName,\r\n      arrange: 'A',\r\n      numOfRows: 9999,\r\n      pageNo: 1,\r\n      _type: 'json',\r\n    }\r\n    \r\n    var sortingData = {\r\n\r\n    };\r\n\r\n    get(uri, data, \r\n      (res) => {\r\n        var result = res.response.body.items.item;\r\n        result.forEach(element => {\r\n          var key = this.eToCat[element.cat1];\r\n\r\n          if (!(key in sortingData))  {\r\n            sortingData[key] = [];\r\n          }\r\n          //console.log(element);\r\n          sortingData[key].push(element);\r\n        });\r\n\r\n        console.log(sortingData);\r\n\r\n        this.setState({\r\n          ...this.state,\r\n          data: sortingData,\r\n        })\r\n        this.props.setTourData(sortingData);\r\n      }, \r\n      (res) => {\r\n        console.log(res);\r\n      });\r\n  }\r\n\r\n  renderCategory() {\r\n    const { t } = this.props;\r\n    var list = [];\r\n    this.category.forEach((item, idx) => {\r\n      list.push(<TourCategoryItem onClick={ (key) => { this.onClickCategory(key); } } \r\n        key={item.value}\r\n        title={t(`tour.category_0${idx}`)} \r\n        data={item} />);\r\n    })\r\n    return(<div>\r\n      {list}\r\n    </div>);\r\n  }\r\n\r\n  renderList() {\r\n    if (!this.props.tourData) {\r\n      return(<div>\r\n      </div>);\r\n    }\r\n    var data = this.props.tourData[this.state.category];\r\n    console.log(data);\r\n    if (data && data.length > 0) {\r\n      console.log('in');\r\n      var list = [];\r\n      var count = 0;\r\n      data.forEach(item => {\r\n        if (!isNullOrEmpty(item.firstimage))\r\n          item.firstimage = item.firstimage.replace('http://', 'https://');\r\n        if (!isNullOrEmpty(item.firstimage2))\r\n          item.firstimage2 = item.firstimage2.replace('http://', 'https://');\r\n\r\n        if(!isNullOrEmpty(item.firstimage) && !isNullOrEmpty(item.addr1))\r\n          list.push(<TourItem key={count++} data={item} />);\r\n      })\r\n      return(<div>\r\n        {list}\r\n      </div>);\r\n    }\r\n    return(<div>\r\n      <Indicator/>\r\n    </div>);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id='dv-tour'>\r\n        { blankDiv('60px') }\r\n        <div id='dv-tour-list'>\r\n          <div className='anchor transition-default'>\r\n            <div className='scroll-view contents'>\r\n              <div className='container'>\r\n                {this.renderCategory()}\r\n              </div>\r\n            </div>\r\n            <div className='scroll-view items'>\r\n              <div className='button-back material-icons'\r\n                onClick={()=>{ $('.anchor').css('transform', 'translateX(0%)'); }}> arrow_back </div>\r\n              <div className='container'>\r\n                {this.renderList()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>);\r\n  }\r\n  /**\r\n   * \r\n   * navigator.geolocation.getCurrentPosition((position)=>{alert('Lat: ' + position.coords.latitude + ' ' + 'Lon: ' + position.coords.latitude);});\r\n  */\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    tourData: state.tourData\r\n      //user: state.auth.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) },\r\n    setTourData: (tourData) => { dispatch(action.setTourData(tourData)) }\r\n      //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(Tour));","import React, { Component } from 'react';\r\nimport \"./CloseButton.css\";\r\n\r\nclass CloseButton extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  renderIcon() {\r\n    var style = {\r\n    }\r\n    \r\n    var spanStyle = {\r\n        background: 'rgb(117, 117, 117)',\r\n    }\r\n\r\n    return (\r\n      <div id='dv-close-button'>\r\n        <label style={style} onClick={()=> { this.props.onClick(); }}>\r\n          <div id='button-close-icon'>\r\n            <span style={spanStyle}></span>\r\n            <span style={spanStyle}></span>\r\n          </div>\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        { this.renderIcon() }\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default CloseButton;","import React, { Component } from 'react';\r\nimport { isNullOrEmpty } from \"utils\";\r\nimport \"./KakaoMap.css\";\r\nimport CloseButton from 'component/UI/CloseButton';\r\n//import $, { getJSON } from 'jquery';\r\n\r\nclass KakaoMap extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      url: '',\r\n      urlList: [],\r\n      pos: 0,\r\n    }\r\n\r\n    this.cachedAddress = '';\r\n  }\r\n\r\n  componentDidUpdate(){\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextProps.show && !this.props.show) {\r\n      this.showMap();\r\n      //return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  showMap () {\r\n    if (!isNullOrEmpty(this.props.title) \r\n      && !isNullOrEmpty(this.props.mapx) \r\n      && !isNullOrEmpty(this.props.mapy)) {\r\n    \r\n        //var mapurl = 'https://map.kakao.com/link/to/' + this.props.title + ',' + this.props.mapy +',' + this.props.mapx;\r\n        var start = '';\r\n        var dest = this.props.title;\r\n        var x = this.props.mapx;\r\n        var y = this.props.mapy;\r\n        \r\n        var lat = 37.5754957;\r\n        var lng = 126.8897835;\r\n\r\n        if (window.Android) {\r\n          //start = window.Android.getMyAddress();\r\n          var gps = window.Android.getMyCoords();\r\n          console.log(\" \");\r\n          console.log(gps);\r\n\r\n          var json = JSON.parse(gps);\r\n          lat = json.lat;\r\n          lng = json.lng;\r\n          console.log('lat ===> ' + lat);\r\n          console.log('lng ===> ' + lng);\r\n          //start = window.Android.getAddress();\r\n        }\r\n\r\n        window.searchDetailAddrFromCoords(lat, lng, (result) => { \r\n          if (result !== this.cachedAddress) {\r\n            start = result;\r\n            //this.cachedAddress = start;\r\n            //start = result[0].address.address_name;\r\n\r\n            var url = '';\r\n            //url = `https://m.map.kakao.com/actions/routeView?sxEnc=&syEnc=&exEnc=XNVSPM&eyEnc=QOQRNUS&startLoc=%EB%82%B4+%EC%9C%84%EC%B9%98&endLoc=%EA%B0%90%EC%9E%90%EA%BD%83+%EC%8A%A4%ED%8A%9C%EB%94%94%EC%98%A4`\r\n\r\n            if (this.props.type === 'link') {\r\n              url = `https://map.kakao.com/link/to/${dest},${y},${x}`;\r\n            }\r\n            else if (this.props.type === 'scheme') {\r\n              url = `https://m.map.kakao.com/scheme/route?sp=${lat}%2C${lng}&sn=${start}&ep=${y}%2C${x}&en=${dest}&by=car`;\r\n            }\r\n            else {\r\n              var destcoor = window.getWcongnamul(this.props.mapx, this.props.mapy).split(',');\r\n              x = destcoor[0].replace('(', '').split('.')[0];\r\n              y = destcoor[1].replace(')', '').replace(' ', '').split('.')[0];\r\n              url = `https://map.kakao.com/?map_type=TYPE_MAP&target=car&rt=%2C%2C${x}%2C${y}&rt1=${start}&rt2=${dest}&rtids=%2C&rtTypes=%2C`;\r\n            }\r\n            //url = 'http://localhost/api/map?' + getQueryString({x: x, y: y, dest:dest});\r\n            console.log(url);\r\n            this.goToPage(url);\r\n          }\r\n        });\r\n        /*https://m.map.kakao.com/scheme/route?\r\n        sp=37.57572534646468 %2C 126.88997474629176\r\n        &sn=%EC%97%90%EC%8A%A4%ED%94%8C%EB%A0%89%EC%8A%A4%EC%84%BC%ED%84%B0\r\n        &ep=1.42785443380603085E18 %2C 3.0601226725102192E16\r\n        &en=%EA%B0%90%EC%9E%90%EA%BD%83+%EC%8A%A4%ED%8A%9C%EB%94%94%EC%98%A4\r\n        &by=car*/\r\n\r\n/*\r\n        var self = this;\r\n        $('#dv-iframe').on('load', function(e) {\r\n          console.log(e);\r\n          var src = $('#dv-iframe').get(0).src;\r\n          console.log('iframe reload page => ' + $('#dv-iframe').get(0).src);\r\n          self.addPage(src);\r\n        })*/\r\n      }\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n  }\r\n\r\n  addPage(pageUrl){\r\n    var list = this.state.urlList;\r\n    list[list.length] = pageUrl;\r\n\r\n    this.setState({\r\n      ...this.state,\r\n      urlList: list,\r\n      pos: list.length - 1,\r\n    });\r\n  }\r\n\r\n  goToPage(pageUrl)\r\n  {\r\n    this.setState({\r\n      ...this.state,\r\n      url: pageUrl,\r\n    });\r\n  }\r\n\r\n  goBack()\r\n  {\r\n     /* if (pos > 0)\r\n      {\r\n          pos--;\r\n          document.getElementById('iframe').src = urlList[pos];\r\n      }*/\r\n  }\r\n\r\n  goForward()\r\n  {\r\n     /* if (pos < (urlList.length-1))\r\n      {\r\n          pos++;\r\n          document.getElementById('iframe').src = urlList[pos];\r\n      }*/\r\n  }\r\n\r\n  toggle(){\r\n    this.props.onHide(false);\r\n  }\r\n\r\n  render() {\r\n    //var style = { visibility: this.state.show ? 'visible' : 'hidden' };\r\n    //var self = this;\r\n    if (!this.props.show) {\r\n      return (<div/>);\r\n    }\r\n    return (\r\n      <div id='dv-kakaomap'>\r\n        <div id='dv-kakaomap-header'> \r\n          <CloseButton onClick = { ()=> { this.props.onHide(); } }></CloseButton>\r\n        </div>\r\n        <iframe title='kakaomap' id='dv-iframe' allow=\"geolocation\" src={this.state.url}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default KakaoMap;","import KakaoMap from 'component/Map/KakaoMap';\r\nimport React, { Component } from 'react';\r\nimport { get, getTourAuthKey, isNullOrEmpty } from 'utils';\r\nimport { connect } from 'react-redux';\r\nimport * as action from 'action';\r\nimport Indicator from 'component/UI/Indicator';\r\n//import MainComponent from \"component/MainComponent\";\r\n\r\nconst uri = 'tour/detailCommon';\r\n\r\nclass TourDetailCommon extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if (this.props.history != null) {\r\n      //this.props.setHistory(this.props.history);\r\n    }\r\n\r\n    this.state = {\r\n      show: false,\r\n      type: 'scheme',\r\n    }\r\n  }\r\n\r\n  onShow(show, type) {\r\n    this.setState({\r\n      ...this.state,\r\n      show: show,\r\n      type: type,\r\n    })\r\n  }\r\n\r\n  addChildToElement(parentId, data){\r\n    var element = document.getElementById(parentId);\r\n    var child = element.querySelector('val');\r\n    if (!child) {\r\n      child = document.createElement('val');\r\n      element.appendChild(child);\r\n    }\r\n    if (child) {\r\n      child.innerHTML = data;\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    this.addChildToElement('dv-tour-info-overview', \r\n      this.state.data.overview ? this.state.data.overview : '');\r\n\r\n    this.addChildToElement('dv-tour-info-homepage', \r\n      this.state.data.homepage ? this.state.data.homepage : '');\r\n  }\r\n\r\n  componentDidMount() {\r\n   /* window.setSwipeCallBack(\r\n      (dist) => {\r\n        this.props.toLeft(dist);\r\n      },\r\n      (dist) => {\r\n        this.props.toRight(dist);\r\n      },\r\n      'dv-tour-detail-common');*/\r\n    this.requestData();\r\n  }\r\n\r\n  renderMap (){\r\n    var title = this.state.data.title;\r\n    var x = this.state.data.mapx;\r\n    var y = this.state.data.mapy;\r\n    var show = this.state.show;\r\n    //console.log('render map => ' + show);\r\n    return (\r\n      <KakaoMap title={title} mapx={x} mapy={y} show={show} type={this.state.type}\r\n        onHide={() => { this.onShow(false, this.state.type); }}/>\r\n    );\r\n  }\r\n\r\n  renderBody() {\r\n    var addr = this.state.data.addr1;\r\n    var firstimage = this.state.data.firstimage;\r\n    //var homepage = this.state.data.homepage;\r\n    //var overview = this.state.data.overview;\r\n    var title = this.state.data.title;\r\n    //var x = this.state.data.mapx;\r\n    //var y = this.state.data.mapy;\r\n    var show = !this.state.show;\r\n\r\n    if (!isNullOrEmpty(firstimage)) {\r\n      firstimage = firstimage.replace('http://', 'https://');\r\n    }\r\n    return (\r\n      <div className={show ? '' : 'nodisplay'}>\r\n        <div id='dv-tour-info'>\r\n          <div className='title'>\r\n            {title}\r\n          </div>\r\n          <img src={firstimage}  alt='firstimage'/>\r\n          <li id='dv-tour-info-overview'></li>\r\n          <li>{addr}</li>\r\n          <li id='dv-tour-info-homepage'>: </li>\r\n        </div>\r\n        <div id='kakao-map-button-group'>\r\n          <div id='kakako-map-button' onClick={ () => { this.onShow(true, 'scheme'); }}> \r\n            <img src='https://t1.daumcdn.net/localimg/localimages/07/2018/mw/m640/ico_map2x.png' alt='icon'/>\r\n            <span id='kakao-map-button-label'> 1</span> \r\n          </div>\r\n          <div id='kakako-map-button' onClick={ () => { this.onShow(true, 'link'); }}> \r\n            <img src='https://t1.daumcdn.net/localimg/localimages/07/2018/mw/m640/ico_map2x.png' alt='icon'/>\r\n            <span id='kakao-map-button-label'> 2</span> \r\n          </div>\r\n          <div id='kakako-map-button' onClick={ () => { this.onShow(true, 'default'); }}> \r\n            <img src='https://t1.daumcdn.net/localimg/localimages/07/2018/mw/m640/ico_map2x.png' alt='icon'/>\r\n            <span id='kakao-map-button-label'> 3</span> \r\n          </div>\r\n        </div>\r\n      </div>);\r\n  }\r\n\r\n  requestData(params) {\r\n    const { id, type } = this.props.match.params;\r\n    \r\n    var data = {\r\n      ServiceKey: getTourAuthKey(),\r\n      contentTypeId: type,\r\n      contentId: id,\r\n      MobileOS: window.os, \r\n      MobileApp: window.appName,\r\n      defaultYN: 'Y', \r\n      firstImageYN: 'Y', \r\n      areacodeYN: 'Y', \r\n      catcodeYN: 'Y', \r\n      addrinfoYN: 'Y', \r\n      mapinfoYN: 'Y', \r\n      overviewYN: 'Y', \r\n      transGuideYN: 'Y',\r\n      _type: 'json',\r\n    }\r\n\r\n    get(uri, data, \r\n      (res) => {\r\n        console.log(res);\r\n        this.setState({\r\n          data: res.response.body.items.item\r\n        });\r\n      },\r\n      (res) => {\r\n        console.log(res);\r\n      });\r\n  }\r\n/*\r\n  convertHompage(original, title) {\r\n    if (isNullOrEmpty(original)) {\r\n      return (<div></div>);\r\n    }\r\n    else if (original.startsWith('http')) {\r\n      return (<a href={original} target='_blank' title={'' + title}>{original}</a>);\r\n    }\r\n    else {\r\n      try {\r\n        var buffer = original.split('>');\r\n        var url = buffer[0].split('\\\"')[1];\r\n        var text = buffer[1].split('</a')[0];\r\n        return (<a href={url} target='_blank' title={'' + title}>{text}</a>);\r\n      }\r\n      catch (e) {\r\n        return (<a></a>);\r\n      }\r\n    }\r\n  }*/\r\n\r\n  renderDetail (){\r\n    if (this.state.data) {\r\n      return(\r\n        <div className='inner-body'>\r\n          {this.renderBody()}\r\n          {this.renderMap()}\r\n        </div>);\r\n    }\r\n    else {\r\n      return(\r\n        <div>\r\n          <Indicator />\r\n        </div>);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='inner-box' id='dv-tour-detail-common'>\r\n        { this.renderDetail() }\r\n      </div>);\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      //user: state.auth.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) }\r\n      //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TourDetailCommon);","import React, { Component } from 'react';\r\nimport { get, getTourAuthKey } from 'utils';\r\nimport { connect } from 'react-redux';\r\nimport * as action from 'action';\r\n//import $ from 'jquery';\r\n\r\nconst uri = 'tour/detailIntro';\r\nconst ignoreKeys = [\r\n  'contentid', \r\n  'contenttypeid', \r\n  'contentTypeId', \r\n  'contentTypeId', \r\n  'contentTypeId', \r\n  'contentTypeId', \r\n];\r\n\r\nconst titles = {\r\n  'packing' : ' ',\r\n  'parkingfood' : ' ',\r\n  'reservationfood' : ' ',\r\n  'infocenterfood' : '  ',\r\n\r\n  'chkcreditcardfood' : '  ',\r\n  'smoking' : '/',\r\n  'treatmenu' : ' ',\r\n  'firstmenu' : ' ',\r\n  'opentimefood' : ' ',\r\n  'lcnsno' : ' ',\r\n  'restdatefood': ' ',\r\n}\r\nclass TourDetailInfo extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if (this.props.history !== null) {\r\n      //this.props.setHistory(this.props.history);\r\n    }\r\n\r\n    this.state = {\r\n\r\n    }\r\n    this.insertItems = [];\r\n  }  \r\n\r\n  addChildToElement(parentId, data){\r\n    var element = document.getElementById(parentId);\r\n    var child = element.querySelector('val');\r\n    if (!child) {\r\n      child = document.createElement('val');\r\n      element.appendChild(child);\r\n    }\r\n    if (child) {\r\n      child.innerHTML = data;\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    if (this.insertItems) {\r\n      console.log(this.insertItems);\r\n      this.insertItems.forEach(element => {\r\n        try {\r\n          this.addChildToElement(element.key, element.val);\r\n        }\r\n        catch(e){\r\n          console.log(e);\r\n        }        \r\n      });\r\n      this.insertItems = [];\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    /*window.setSwipeCallBack(\r\n      (dist) => {\r\n        this.props.toLeft(dist);\r\n      },\r\n      (dist) => {\r\n        this.props.toRight(dist);\r\n      },\r\n      'dv-tour-detail-info');*/\r\n    this.requestData();\r\n  }\r\n\r\n  requestData(params) {\r\n    const { id, type } = this.props.match.params;\r\n    \r\n    var data = {\r\n      ServiceKey: getTourAuthKey(),\r\n      contentTypeId: type,\r\n      contentId: id,\r\n      MobileOS: window.os, \r\n      MobileApp: window.appName,\r\n      introYN: 'Y', \r\n      _type: 'json',\r\n    }\r\n\r\n    get(uri, data, \r\n      (res) => {\r\n        console.log(res);\r\n        this.setState({\r\n          data: res.response.body.items.item\r\n        });\r\n      },\r\n      (res) => {\r\n        console.log(res);\r\n      });\r\n  }\r\n  \r\n  renderItems(){\r\n    var result = [];\r\n    var inserts = [];\r\n    if (this.state.data) {\r\n      //console.log(this.state.data.entries())\r\n      for (let key in this.state.data) {\r\n        var val = `${this.state.data[key]}`;\r\n        var title = titles[key];\r\n        if (!title) {\r\n          title = key;\r\n        }\r\n        \r\n        if (val && val !== 0 && ignoreKeys.indexOf(key) === -1) {\r\n          if (val.indexOf('<') > -1) {\r\n            var id = `tour-detail-info-${key}`;\r\n            result.push(<li id={id}>{`${title} : `}</li>);\r\n            inserts.push({key: id, val: val});\r\n          }\r\n          else {\r\n            result.push(<li>{`${title} : ${val}`}</li>)\r\n          }\r\n        }\r\n      }\r\n      /*\r\n      this.state.data.forEach(element => {\r\n        console.log(element);\r\n        //result.add(<img src = {element.smallimageurl} />);\r\n      });*/\r\n    }\r\n    this.insertItems = inserts;\r\n    return (result);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className='inner-box' id='dv-tour-detail-info'>\r\n        <div className='inner-body'>\r\n          {this.renderItems()}\r\n        </div>\r\n      </div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      //user: state.auth.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) }\r\n      //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TourDetailInfo);","import React, { Component } from 'react';\r\nimport { get, getTourAuthKey } from 'utils';\r\nimport { connect } from 'react-redux';\r\nimport * as action from 'action';\r\nimport $ from 'jquery';\r\n\r\nconst uri = 'tour/detailImage';\r\n\r\nclass TourDetailGallery extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if (this.props.history !== null) {\r\n      //this.props.setHistory(this.props.history);\r\n    }\r\n\r\n    this.state = {\r\n      photoUrl: '',\r\n      idx: 0,\r\n    }\r\n\r\n    this.photoList = [];\r\n  }\r\n  \r\n  componentDidMount() {\r\n    /*window.setSwipeCallBack(\r\n      (dist) => {\r\n        this.props.toLeft(dist);\r\n      },\r\n      (dist) => {\r\n        this.props.toRight(dist);\r\n      },\r\n      'dv-tour-detail-gallery');*/\r\n    this.requestData();\r\n  }\r\n\r\n  requestData() {\r\n    const { id, type } = this.props.match.params;\r\n    \r\n    var data = {\r\n      ServiceKey: getTourAuthKey(),\r\n      contentTypeId: type,\r\n      contentId: id,\r\n      MobileOS: window.os, \r\n      MobileApp: window.appName,\r\n      imageYN: 'Y', \r\n      _type: 'json',\r\n    }\r\n\r\n    get(uri, data, \r\n      (res) => {\r\n        console.log(res);\r\n        var list = res.response.body.items.item;\r\n        for (var i = 0; i < list.length; ++i) {\r\n          list[i].originimgurl = list[i].originimgurl.replace('http://', '//');\r\n          list[i].smallimageurl = list[i].originimgurl.replace('http://', '//');\r\n          list[i].idx = i;\r\n        }\r\n        console.log(list);\r\n        this.setState({\r\n          ...this.state,\r\n          data: list,\r\n          photoUrl : list[0].originimgurl,\r\n          idx: 0,\r\n        });\r\n      },\r\n      (res) => {\r\n        console.log(res);\r\n      });\r\n  }\r\n\r\n  renderPhoto(idx) {\r\n    if (idx !== this.state.idx && idx > -1 && idx < this.state.data.length) {\r\n      var url = this.state.data[idx].originimgurl;\r\n      //console.log(url);\r\n      this.setState({\r\n        ...this.state,\r\n        photoUrl: url,\r\n        idx: idx,\r\n      });\r\n  \r\n      var listObj = $('#dv-tour-detail-gallery-list')[0];\r\n      var scrollLeft = listObj.scrollLeft;\r\n      var scrollWidth = listObj.scrollWidth;\r\n      var itemWidth = scrollWidth / this.state.data.length;\r\n      var width = listObj.clientWidth;\r\n      var animate = true;\r\n      var offset = 20;\r\n      //      .\r\n      var val = undefined;\r\n      if ((itemWidth * (idx + 1)) + offset > width + scrollLeft) {\r\n        val = (itemWidth * (idx + 1)) - width + offset;\r\n        //listObj.scrollLeft = scrollLeft - val;\r\n      }\r\n      //      .\r\n      else if (itemWidth * idx - offset < scrollLeft) {\r\n        val = itemWidth * idx - offset;\r\n        //listObj.scrollLeft = itemWidth * idx;\r\n      }\r\n      if (val) {\r\n        if (animate) {\r\n          $('#dv-tour-detail-gallery-list').animate({scrollLeft: val}, 200);\r\n        }\r\n        else {\r\n          listObj.scrollLeft = val;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  renderItems() {\r\n    var result = [];\r\n    if (this.state.data) {\r\n      var list = this.state.data;\r\n      \r\n      list.forEach(element => {\r\n        var url = element.smallimageurl;\r\n        var idx = element.idx;\r\n        result.push(\r\n          <div key={idx} className={'item' + (idx === this.state.idx ? ' selected' : '') } onClick={ () => { this.renderPhoto(idx); }} >\r\n            <img src={url} alt='item'/>\r\n          </div>);\r\n      });\r\n    }\r\n    return (<div id='dv-tour-detail-gallery-list'>\r\n        <div className='list'>\r\n          {result}\r\n        </div>\r\n      </div>) ;\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div className='inner-box' id='dv-tour-detail-gallery'>\r\n        <div className='inner-body'>\r\n          {this.renderItems()}\r\n          <div id ='dv-tour-detail-gallery-image'>\r\n            <img alt='item' onClick={(obj) => {\r\n              this.renderPhoto(this.state.idx + (obj.pageX < obj.target.width * 0.5 ? -1 : 1))\r\n                //console.log(obj.pageX < obj.target.width * 0.5 ? 'left' : 'right');\r\n                }\r\n              } \r\n              src={this.state.photoUrl} />\r\n          </div>\r\n        </div>\r\n      </div>);\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      //user: state.auth.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) }\r\n      //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TourDetailGallery);","import React, { Component } from 'react';\r\nimport TourDetailCommon from './TourDetailCommon';\r\nimport TourDetailInfo from './TourDetailInfo';\r\nimport TourDetailGallery from './TourDetailGallery';\r\n//import { BrowserRouter, Route, Switch, Link, Redirect} from 'react-router-dom';\r\nimport './TourDetail.css';\r\nimport { connect } from 'react-redux';\r\nimport * as action from 'action';\r\nimport $ from 'jquery';\r\n//import Indicator from 'component/UI/Indicator';\r\n\r\nclass TourDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if (this.props.history !== null) {\r\n      this.props.setHistory(this.props.history);\r\n    }\r\n    \r\n    //const buffer = this.props.location.pathname.split('/');\r\n    //const currentPath = buffer[buffer.length - 1];\r\n    this.pageList = ['common', 'info', 'gallery'];\r\n    //var idx = this.pageList.indexOf(currentPath);\r\n    var idx = 0;\r\n    this.state = {\r\n      index: idx,\r\n      page: 'common',\r\n      oldPage: '',\r\n      left: '0px',\r\n      indicatorLeft: '0px'\r\n    };\r\n    //window.scrollTo(0,0);\r\n  }\r\n\r\n  getPosition(index){\r\n    return `-${index * 100}vw`;\r\n  }\r\n\r\n  getPageName(index) {\r\n    return this.pageList[index];\r\n  }\r\n\r\n  movePage(index) {\r\n    if (index > -1 && index < this.pageList.length) {\r\n      this.setState({\r\n        ...this.state,\r\n        index: index,\r\n        /*left: this.getPosition(index),*/\r\n        page: this.getPageName(index),\r\n        indicatorLeft: `${100/3*index}vw`\r\n      });\r\n      var body = $('#dv-tour-detail-body');\r\n      body.stop();\r\n      body.animate( { scrollLeft: window.innerWidth * index} , 500);\r\n      //document.getElementById('dv-tour-detail-body').scrollTo(window.innerWidth * index, 0);\r\n    }\r\n  }\r\n\r\n  toLeft (distance) {\r\n    //console.log('to left');\r\n    if (distance > 150) {\r\n      this.movePage(this.state.index + 1);\r\n    }\r\n  }\r\n\r\n  toRight (distance) {\r\n    //console.log('to right');\r\n    if (distance > 150) {\r\n      this.movePage(this.state.index - 1);\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    const buffer = this.props.location.pathname.split('/');\r\n    const currentPath = buffer[buffer.length - 1];\r\n    var idx = this.pageList.indexOf(currentPath);\r\n    if (idx !== this.state.index) {\r\n      this.movePage(idx);\r\n    }\r\n    /*window.initTabs('#dv-tour-detail ul.tabs', {\r\n      swipeable : true,\r\n      responsiveThreshold : '100vw',\r\n    });*/\r\n    /*window.setSwipeCallBack(\r\n      this.toLeft.bind(this), \r\n      this.toRight.bind(this), \r\n      'dv-tour-detail');*/\r\n  }\r\n\r\n  onClick (id) {\r\n    var idx = this.state.idx;\r\n    for(var i = 1; i < 4; ++i) {\r\n      if ($(`#detail-${i}`).attr('class').indexOf('active') > -1) {\r\n        idx = i;\r\n        break;\r\n      }\r\n    }\r\n    console.log(idx);\r\n    if (idx !== this.state.idx) {\r\n      this.setState({\r\n        ...this.state,\r\n        idx: idx,\r\n      })\r\n    }\r\n    //if (this.idx !== )\r\n    /*var linkData = {\r\n        pathname: `${url}/${path}`,\r\n        state: {\r\n          ...this.props.location.state,\r\n          path: path,\r\n        }\r\n    }\r\n    this.props.history.replace(linkData);*/\r\n  }\r\n\r\n  renderTab(url, index, path, name){\r\n    var page = this.state.page ? this.state.page : 'common';\r\n    return (\r\n      <span className={page === path ? 'on' : ''} \r\n        onClick={ () => { this.movePage(index); }}>\r\n        <div>\r\n          {name}\r\n        </div>\r\n      </span>);\r\n  }\r\n\r\n  renderIndicator (){\r\n    var style = {left: this.state.indicatorLeft};\r\n    return (<div className='indicator transition-default'  > \r\n      <div id='dv-indicator-bar' style={style} className={'transition-fast'}/>\r\n      <div id='dv-indicator-bar' style={style} className={'transition-x2'}/>\r\n      <div id='dv-indicator-bar' style={style} className={'transition-default'}/>\r\n    </div>);\r\n  }\r\n  \r\n  render() {\r\n    var { url } = this.props.match;\r\n    if (url[url.length - 1] === '/') {\r\n      url = url.substr(0, url.length - 1);\r\n    }\r\n\r\n    return (\r\n      <div id='dv-tour-detail'>\r\n        <div id='dv-tour-detail-tab'>\r\n          {this.renderTab(url, 0, 'common', '')}\r\n          {this.renderTab(url, 1, 'info', '')}\r\n          {this.renderTab(url, 2, 'gallery', '')}\r\n          {this.renderIndicator()}\r\n        </div>\r\n        <div id='dv-tour-detail-body' className='transition-default' style={ { left: this.state.left } }>\r\n          <TourDetailCommon history={this.props.history} match={this.props.match} \r\n            toLeft={(dist)=> { this.toLeft(dist); }} \r\n            toRight={(dist)=> { this.toRight(dist); }} />\r\n          <TourDetailInfo history={this.props.history} match={this.props.match} \r\n            toLeft={(dist)=> { this.toLeft(dist); }} \r\n            toRight={(dist)=> { this.toRight(dist); }} />\r\n          <TourDetailGallery history={this.props.history} match={this.props.match} \r\n            toLeft={(dist)=> { this.toLeft(dist); }} \r\n            toRight={(dist)=> { this.toRight(dist); }} />\r\n        </div>        \r\n      </div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      //user: state.auth.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) }\r\n      //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TourDetail);","import React, { Component } from 'react';\r\nimport * as action from 'action';\r\nimport { connect } from 'react-redux';\r\nimport './POI.css';\r\nimport * as THREE from 'three';\r\n//import { MTLLoader, OBJLoader } from 'three-obj-mtl-loader';\r\nimport OrbitControls from 'three-orbitcontrols';\r\nimport GLTFLoader from 'three-gltf-loader';\r\nimport $ from 'jquery';\r\nimport Indicator from 'component/UI/Indicator';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nclass POI extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if (this.props.history != null) {\r\n       this.props.setHistory(this.props.history);\r\n    }\r\n\r\n    this.state = {\r\n    }\r\n    this.startTime = -1;\r\n    this.isStart = false;\r\n    this.isLoaded = false;\r\n  }\r\n\r\n  getWidth() {\r\n    if (!this.width) {\r\n      this.width = $('#dv-poi').width();\r\n    }\r\n    //console.log(this.width);\r\n    return this.width;\r\n  }\r\n\r\n  getHeight() {\r\n    if (!this.height) {\r\n      this.height = $('#dv-poi').height();\r\n    }\r\n    return this.height;\r\n  }\r\n\r\n  /*componentDidMount(){\r\n    window.initTabs('#dv-poi ul.tabs', {\r\n      swipeable : true,\r\n      responsiveThreshold : '100vw'\r\n    });\r\n  }*/\r\n\r\n  componentDidMount() {\r\n    $(\"#dv-poi #labels\").css('visibility', 'hidden');\r\n    //$(\"#dv-poi #dv-indicator\").css('visibility', 'visible');\r\n    const width = 400;//this.mount.clientWidth * 1;\r\n    //const height = this.mount.clientHeight ;\r\n    const height = width;\r\n    this.isLoaded = false;\r\n\r\n    this.scene = new THREE.Scene();\r\n    //Add Renderer\r\n    this.renderer = new THREE.WebGLRenderer({ alpha: true });\r\n    //this.renderer.setClearColor(\"#263238\");\r\n    this.renderer.setSize(width, height);\r\n    this.mount.appendChild(this.renderer.domElement);\r\n\r\n    const fov = 75; // 75\r\n    const aspect =  width / height;  // the canvas default\r\n    const near = 0.1;\r\n    const far = 10000;\r\n    //this.camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\r\n    this.camera = new THREE.OrthographicCamera( width / - 2, width / 2, height / 2, height / - 2, near, far );\r\n    this.camera.position.set(0, 0, 10000);\r\n    //add Camera\r\n    /*this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\r\n    this.camera.position.z = 8;\r\n    this.camera.position.y = 15;*/\r\n    //Camera Controls\r\n    //const controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n\r\n    {\r\n      /*\r\n      const planeSize = 40;\r\n      const loader = new THREE.TextureLoader();\r\n      const texture = loader.load('https://threejsfundamentals.org/threejs/resources/images/checker.png');\r\n      texture.wrapS = THREE.RepeatWrapping;\r\n      texture.wrapT = THREE.RepeatWrapping;\r\n      texture.magFilter = THREE.NearestFilter;\r\n      const repeats = planeSize / 2;\r\n      texture.repeat.set(repeats, repeats);\r\n  \r\n      const planeGeo = new THREE.PlaneGeometry(planeSize, planeSize);\r\n      const planeMat = new THREE.MeshPhongMaterial({\r\n        map: texture,\r\n        side: THREE.DoubleSide,\r\n      });\r\n\r\n      const mesh = new THREE.Mesh(planeGeo, planeMat);\r\n      mesh.rotation.x = Math.PI * -.5;\r\n      this.scene.add(mesh);\r\n*/\r\n      const y = 200;\r\n      this.cubes = [\r\n        /*makeInstance(this.scene, geometry,  0, y, 0, ' ', 'Sliding'),\r\n        makeInstance(this.scene, geometry,  -1000, y, -1000, 'AVO', 'Avo'),\r\n        makeInstance(this.scene, geometry,  -1000, y, 0, ' ', 'Mole'),\r\n        makeInstance(this.scene, geometry,  0, y, -1000, 'AR-Test', 'Artest'),*/\r\n      ];\r\n    }\r\n\r\n    {\r\n      const skyColor = 0xffffff;  // light blue\r\n      const groundColor = 0x444444;  // brownish orange\r\n      const intensity = 1;\r\n      const light = new THREE.HemisphereLight(skyColor, groundColor, intensity);\r\n      this.scene.add(light);\r\n    }\r\n  \r\n    {\r\n      const color = 0xFFFFFF;\r\n      const intensity = 1;\r\n      const light = new THREE.DirectionalLight(color, intensity);\r\n      light.position.set(5, 10, 5);\r\n      this.scene.add(light);\r\n      this.scene.add(light.target);\r\n    }\r\n    \r\n    function frameArea(sizeToFitOnScreen, boxSize, boxCenter, camera) {\r\n      /*camera.lookAt(boxCenter.x, boxCenter.y, boxCenter.z);\r\n      \r\n      console.log(boxCenter);\r\n      console.log(camera.position);*/\r\n     /* const halfSizeToFitOnScreen = sizeToFitOnScreen * 0.5;\r\n      const halfFovY = THREE.MathUtils.degToRad(camera.fov * 0.5);\r\n      const distance = halfSizeToFitOnScreen / Math.tan(halfFovY) * 1;\r\n      // compute a unit vector that points in the direction the camera is now\r\n      // in the xz plane from the center of the box\r\n      const direction = (new THREE.Vector3())\r\n          .subVectors(camera.position, boxCenter)\r\n          .multiply(new THREE.Vector3(1, 1, 1))\r\n          .normalize();\r\n\r\n      // move the camera to a position distance units way from the center\r\n      // in whatever direction the camera was from the center already\r\n      camera.position.copy(direction.multiplyScalar(distance).add(boxCenter));\r\n      camera.position.y = 0;\r\n      //camera.position.y = 0;\r\n      camera.position.z = 5;\r\n      console.log(camera.position);\r\n      //console.log(camer)\r\n      // pick some near and far values for the frustum that\r\n      // will contain the box.\r\n      camera.near = boxSize / 100;\r\n      camera.far = boxSize * 100;\r\n\r\n      camera.updateProjectionMatrix();*/\r\n\r\n      // point the camera to look at the center of the box\r\n      camera.lookAt(boxCenter.x, boxCenter.y, boxCenter.z);\r\n    }\r\n    \r\n    /*********** */ \r\n    var onClick = (key) => {\r\n      console.log('onclick => ' + key);\r\n      try {\r\n        switch(window.os) {\r\n          case 'AND':\r\n            if (window.Android) {\r\n              window.Android.startUnity(key);\r\n            }\r\n            break;\r\n          case 'IOS':\r\n            console.log('send to ios');\r\n            window.webkit.messageHandlers.buttonClicked.postMessage({ ButtonId: key });\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n      catch(e){\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    function makeInstance(scene, geometry, x, y, z, name, key) {\r\n      const labelContainerElem = document.querySelector('#labels');\r\n      const material = new THREE.MeshPhongMaterial();\r\n\r\n      const cube = new THREE.Mesh(geometry, material);\r\n      scene.add(cube);\r\n\r\n      cube.position.x = x;\r\n      cube.position.y = y;\r\n      cube.position.z = z;\r\n\r\n      const elem = document.createElement('div');\r\n      elem.textContent = name;\r\n      labelContainerElem.appendChild(elem);\r\n      elem.onclick = () => {\r\n        onClick(key);\r\n      }\r\n      return {cube, elem};\r\n    }\r\n    /*********** */\r\n    {\r\n      const gltfLoader = new GLTFLoader();\r\n      //gltfLoader.load('https://threejsfundamentals.org/threejs/resources/models/cartoon_lowpoly_small_city_free_pack/scene.gltf', (gltf) => {\r\n        //console.log('gltf is loaded');\r\n      gltfLoader.load('/resources/Ara_set/Ara_idle.gltf', (gltf) => {\r\n        var root = gltf.scene;\r\n        this.scene.add(root);\r\n        \r\n        this.mixer = new THREE.AnimationMixer(root);\r\n        console.log(this.mixer);\r\n        /*\r\n        this.mixer = new THREE.AnimationMixer(root);\r\n        var action = this.mixer.clipAction(gltf.animations[0]);\r\n        action.setLoop( THREE.LoopOnce );\r\n        action.play();*/\r\n\r\n        gltf.scene.scale.set(0.5, 0.5, 0.5);\r\n        gltf.scene.position.set(0, 0, 0);\r\n\r\n        // compute the box that contains all the stuff\r\n        // from root and below\r\n        const box = new THREE.Box3().setFromObject(root);\r\n  \r\n        var boxSize = box.getSize(new THREE.Vector3()).length();\r\n        var boxCenter = box.getCenter(new THREE.Vector3());\r\n        boxCenter = new THREE.Vector3(0, 150, 0);\r\n        console.log(boxCenter);\r\n        // set the camera to frame the box\r\n        frameArea(boxSize * 1, boxSize, boxCenter, this.camera);\r\n  \r\n        // update the Trackball controls to handle the new size\r\n        //controls.minDistance = controls.maxDistance = boxSize * 0.75;\r\n        /*controls.minPolarAngle = 0.6;\r\n        controls.maxPolarAngle = 1.2;*/\r\n\r\n        /*controls.minDistance = controls.maxDistance = boxSize * 3;\r\n        controls.target.copy(boxCenter);\r\n        controls.minPolarAngle = 1;\r\n        controls.maxPolarAngle = 1;\r\n        controls.enablePan = false;\r\n        //0;\r\n        controls.update();*/\r\n        this.isLoaded = true;\r\n        $(\"#dv-poi #labels\").insertAfter(\"#dv-poi canvas\");\r\n      },\r\n      // called while loading is progressing\r\n      function ( xhr ) {\r\n        //console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );\r\n        console.log( ( xhr.loaded  ) + '% loaded' );\r\n        console.log( ( xhr.total  ) + '% loaded' );\r\n      },\r\n      // called when loading has errors\r\n      function ( error ) {    \r\n        console.log( error);    \r\n      });\r\n    }\r\n    //ADD Your 3D Models here\r\n    this.renderScene();\r\n    //start animation\r\n    this.start();\r\n  }\r\n\r\n  start = () => {\r\n    if (!this.frameId) {\r\n      this.frameId = requestAnimationFrame(this.animate);}\r\n  };\r\n\r\n  stop = () => {\r\n    cancelAnimationFrame(this.frameId);\r\n  };\r\n\r\n  resizeRendererToDisplaySize(renderer) {\r\n    const canvas = renderer.domElement;\r\n    const width = canvas.clientWidth;\r\n    const height = canvas.clientHeight;\r\n    const needResize = canvas.width !== width || canvas.height !== height;\r\n    if (needResize) {\r\n      renderer.setSize(width, height, false);\r\n    }\r\n    return needResize;\r\n  }\r\n\r\n  animate = (time) => {\r\n    if (this.isLoaded) {\r\n      //Animate Models Here\r\n      //ReDraw Scene with Camera and Scene Object\r\n      if (this.startTime < 0) {\r\n        this.startTime = time;\r\n      }\r\n      if (time - this.startTime > 500) {\r\n        if (!this.isStart) {\r\n          this.isStart = true;\r\n          console.log('isStart');\r\n          $(\"#dv-poi #labels\").css('visibility', 'visible');\r\n          $(\"#dv-poi #dv-indicator\").attr('class', 'hide');\r\n        }\r\n        this.renderScene(time);\r\n      }\r\n    }\r\n    this.frameId = window.requestAnimationFrame(this.animate);\r\n  };\r\n\r\n  renderScene = (time) => {\r\n    if (this.renderer) {\r\n      time *= 0.001;\r\n      if (this.resizeRendererToDisplaySize(this.renderer)) {\r\n        const canvas = this.renderer.domElement;\r\n        this.camera.aspect = canvas.clientWidth / canvas.clientHeight;\r\n        this.camera.updateProjectionMatrix();\r\n      }\r\n      if (this.mixer) {\r\n        //this.mixer.update(time);\r\n      }\r\n\r\n      const tempV = new THREE.Vector3();\r\n\r\n      this.cubes.forEach((cubeInfo, ndx) => {\r\n        const {cube, elem} = cubeInfo;\r\n        const speed = 1 + ndx * .1;\r\n        const rot = time * speed;\r\n        cube.rotation.x = rot;\r\n        cube.rotation.y = rot;\r\n\r\n        // get the position of the center of the cube\r\n        cube.updateWorldMatrix(true, false);\r\n        cube.getWorldPosition(tempV);\r\n\r\n        // get the normalized screen coordinate of that position\r\n        // x and y will be in the -1 to +1 range with x = -1 being\r\n        // on the left and y = -1 being on the bottom\r\n        tempV.project(this.camera);\r\n\r\n        // convert the normalized position to CSS coordinates\r\n        var x = (tempV.x *  .5 + .5) * this.getWidth();\r\n        var y = (tempV.y * -.5 + .5) * this.getHeight();\r\n        x = x.toFixed(2);\r\n        y = y.toFixed(2);\r\n\r\n        // move the elem to that position\r\n        elem.style.transform = `translate(-50%, -50%) translate(${x}px,${y}px)`;\r\n      });\r\n\r\n      this.renderer.render(this.scene, this.camera);\r\n    }\r\n  };\r\n\r\n/*\r\n  render(){\r\n    return (\r\n      <div id='dv-poi'>\r\n        <canvas id='#three-canvas' />\r\n      </div>);\r\n  }*/\r\n  render() {\r\n    return (\r\n      <div id='dv-poi' ref={mount => { this.mount = mount}} className='container'>\r\n        <Indicator />\r\n        <div id='labels'> </div>\r\n      </div>)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => { return {}; }\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(POI));","import React, { Component } from 'react';\r\nimport './Logo.css';\r\nimport { connect } from 'react-redux';\r\nimport * as action from 'action';\r\n//import { blankDiv } from 'utils';\r\nimport $ from 'jquery';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nclass Logo extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    \r\n    this.pageInfo = [\r\n      '/main',\r\n      '/about',\r\n      '/tour',\r\n      '/poi',\r\n      '/game',\r\n    ]\r\n    this.offsetX = window.innerWidth - 50;\r\n    this.offsetY = 30;\r\n    this.state = {\r\n      index: 0,\r\n    }\r\n\r\n    this.oldCenter = 0;\r\n    this.center = 0;\r\n  }\r\n\r\n  getIndex(val){\r\n    if (val) {\r\n      return this.pageInfo.indexOf(val);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.history) {\r\n      var idx = this.getIndex(this.props.history.location.pathname);\r\n      //         .\r\n      if (idx > -1 && this.state.index !== idx) {\r\n        this.oldCenter = this.center;\r\n        this.center = idx;\r\n        this.setState({\r\n          ...this.state,\r\n          index: idx,\r\n        });\r\n\r\n        for(var i = 0; i < this.pageInfo.length; ++i) {\r\n          $(`#dv-body-back.gradient-${i+1}`).css('opacity', i===idx ? 1 : 0);\r\n        }\r\n\r\n        if (!this.props.showMenu) {\r\n          this.props.setShowMenu(true);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onClick() {\r\n    if (!this.props.showMenu) {\r\n      this.props.setShowMenu(!this.props.showMenu);\r\n    }\r\n  }\r\n\r\n  getStyle(idx) {\r\n    var gap = idx - this.state.index;\r\n    gap = gap > 1 ? 1 : (gap < -1 ? -1 : gap);\r\n    const left = gap * this.offsetX;\r\n    const scale = 1 - Math.abs(gap) * 0.25;\r\n    const top = 50 + Math.abs(gap) * this.offsetY;\r\n    \r\n    return { \r\n      left: left,\r\n      top: top,\r\n      transform: `scale(${scale})`,\r\n    }\r\n  }\r\n\r\n  renderTitleLogo(idx) {\r\n    var style = this.getStyle(idx);\r\n    var transition = `transition-${(this.center === idx || this.oldCenter === idx) ? 'default' : 'none'}`;\r\n    \r\n    return (\r\n      <div id='dv-logo-fullscreen' onClick={()=>{ this.onClick(); }}> \r\n        <div id={`logo-${idx}`} \r\n          style={style} \r\n          className={`logo ${this.props.showMenu ? 'small': 'large'} ${transition}`}>\r\n            <div style={{backgroundImage: 'url(/resources/logo.png)'}}></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderLogo(idx, icon, title) {\r\n    var style = this.getStyle(idx);\r\n    var transition = `transition-${(this.center === idx || this.oldCenter === idx) ? 'default' : 'none'}`;\r\n\r\n    return (\r\n      <div id={`logo-${idx}`} style={style} className={`logo small ${transition}`}>\r\n        <div id='dv-logo'>\r\n          <span className='material-icons'>{icon}</span>\r\n          <div>\r\n            <span className='logo-title' >{title}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(){\r\n    const { t } = this.props;\r\n    return (\r\n      <div id='dv-logo-container'>\r\n        <div id='dv-body-back' className='gradient-1'/>\r\n        <div id='dv-body-back' className='gradient-2'/>\r\n        <div id='dv-body-back' className='gradient-3'/>\r\n        <div id='dv-body-back' className='gradient-4'/>\r\n        <div id='dv-body-back' className='gradient-5'/>\r\n        {this.renderTitleLogo(0)}\r\n        {this.renderLogo(1, 'map', t('main.button_00'))}\r\n        {this.renderLogo(2, 'tour', t('main.button_01'))}\r\n        {this.renderLogo(3, 'location_on', t('main.button_02'))}\r\n        {this.renderLogo(4, 'games', t('main.button_03'))}\r\n      </div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      //user: state.auth.user\r\n      showMenu: state.showMenu,\r\n      history: state.history,\r\n      state: state.history ? state.history.location.pathname : '',\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) },\r\n    setShowMenu: (showMenu) => { dispatch(action.setShowMenu(showMenu)) }\r\n      //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(Logo));","import React, { Component } from 'react';\r\nimport './About.css';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nclass AboutDetail extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  renderHistory(text){\r\n    var splitText = text.split('\\n');\r\n    var result = [];\r\n\r\n    splitText.forEach(t => {\r\n      result.push(<li>{t}</li>);\r\n    });\r\n    return (result);\r\n  }\r\n\r\n  renderGeography(text, title){\r\n    if (text) {\r\n      return(\r\n        <div>\r\n          <h5>{title}</h5>\r\n          <div id='dv-about-detail-text'>\r\n            {text}\r\n          </div>\r\n        </div>\r\n        );\r\n    }\r\n    return;\r\n  }\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n    var id = this.props.id;\r\n    var map00 = t(`about.data.${id}.map00`);\r\n    var map01 = t(`about.data.${id}.map01`);\r\n    var title = t(`about.${id}`);\r\n    var history = t(`about.data.${id}.history`);\r\n    var text = t(`about.data.${id}.text`);\r\n    var geography = t(`about.data.${id}.geography`);\r\n\r\n    return (\r\n      <div id='dv-about-detail'>\r\n        <h5 className=\"titLv\">{title}</h5>\r\n    \r\n        <div id='dv-about-detail-img'>\r\n          <img className='float-left' alt=\" \" src={map00}/>\r\n          <img className='float-right' alt=\"   \" src={map01}/>\r\n        </div>\r\n\r\n        <h5>{t('about.history')}</h5>\r\n        <ul>\r\n          { this.renderHistory(history) }\r\n        </ul>\r\n        {this.renderGeography(geography, t('about.geography'))}\r\n        <h5>{t('about.infomation')}</h5>\r\n        <div id='dv-about-detail-text'>\r\n          {text}\r\n        </div>\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default withTranslation()(AboutDetail);","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport { kr, en, jp, ch } from 'locales';\r\n\r\ni18n\r\n  .use(initReactI18next)\r\n  .init({\r\n    //resources,\r\n    resources : { kr, en, jp, ch },\r\n    fallbackLng: ['kr', 'en', 'jp', 'ch'],\r\n    lng: 'kr',\r\n    /*ns: ['main'],\r\n    defaultNS: 'main',*/\r\n    debug: true,\r\n    //keySeparator: true, // we do not use keys in form messages.welcome\r\n    interpolation: { escapeValue: false },\r\n    detection: { order: ['path', 'navigator'] },\r\n  });\r\n\r\nexport default i18n;","import React, { Component } from 'react';\r\nimport * as action from 'action';\r\nimport { connect } from 'react-redux';\r\nimport './About.css';\r\nimport $ from 'jquery';\r\nimport AboutDetail from './AboutDetail';\r\nimport { withTranslation } from 'react-i18next';\r\nimport i18n from 'utils/i18n';\r\n\r\nclass About extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if (this.props.history != null) {\r\n      this.props.setHistory(this.props.history);\r\n   }\r\n\r\n    this.state = {\r\n      index: 0,\r\n    }\r\n\r\n    this.district = [\r\n      { id: 'pyeongchangeup', \r\n        position: {left: '120px', top: '384px'} },\r\n      { id: 'mitanmyeon',\r\n        position: {left: '193px', top: '410px'} },\r\n      { id: 'bangnimmyeon', \r\n        position: {left: '68px', top: '310px'} },\r\n      { id: 'daehwamyeon', \r\n        position: {left: '150px', top: '280px'} },\r\n      { id: 'bongpyeonmyeon', \r\n        position: {left: '82px', top: '190px'} },\r\n      { id: 'yongpyeonmyeon', \r\n        position: {left: '166px', top: '160px'} },\r\n      { id: 'jinbumyeon', \r\n        position: {left: '233px', top: '190px'} },\r\n      { id: 'degwallyeong', \r\n        position: {left: '310px', top: '126px'} },\r\n    ];\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    $('#dv-about-body').scrollTop(0);\r\n  }\r\n\r\n  onClick (index) {\r\n    //if (this.idx !== )\r\n    if (index < 0 || this.district.length <= index) {\r\n      return;\r\n    }\r\n    var linkData = {\r\n        pathname: `../about/${this.district[index].id}`,\r\n        state: {\r\n          ...this.props.location.state,\r\n          //path: path,\r\n        }\r\n    }\r\n    this.setState({\r\n      ...this.state,\r\n      index: index,\r\n    });\r\n    //this.props.\r\n    this.props.history.replace(linkData);\r\n  }\r\n  \r\n  renderTabs(url) {\r\n    var count = i18n.language === 'en' ? 9 : 8;\r\n    var result = [];\r\n    for (var i = 0; i < count; ++i) {\r\n      result.push(this.renderTab(url, i));\r\n    }\r\n    return result;\r\n  }\r\n  \r\n  renderTab(url, index, path, name) {\r\n    //var page = this.state.page ? this.state.page : this.district[0].id;\r\n    if (!url) {\r\n      url = this.district[0].id;\r\n    }\r\n    var isFocus = this.state.index === index;\r\n    if (this.district[index]) {\r\n\r\n      path = path ? path : this.district[index].id;\r\n      name = name ? name : this.props.t(`about.${path}`);\r\n      \r\n      if (isFocus && this.district[index].id !== url) {\r\n        isFocus = false;\r\n      }\r\n      if (!isFocus && this.district[index].id === url) {\r\n        isFocus = true;\r\n      }\r\n    }\r\n    //var isBottom = index >= 4;\r\n    var bl = i18n.language === 'en' ? 6 : 4;\r\n    var br = i18n.language === 'en' ? 8 : 7;\r\n    var className = index === bl ? 'bottom-left' : ( index === br ? 'bottom-right' : '');\r\n    var className = index >= bl ? 'bottom' : '';\r\n    \r\n    return (\r\n      <span className={(isFocus ? 'on ' : '') + className} \r\n        onClick={ () => { this.onClick(index); }}>\r\n        <div>\r\n          {name}\r\n        </div>\r\n      </span>);\r\n  }\r\n\r\n  renderIndicator() {\r\n    var style = { left: this.state.indicatorLeft };\r\n    return (\r\n      <div className='indicator transition-default'> \r\n        <div id='dv-indicator-bar' style={style} className={'transition-fast'}/>\r\n        <div id='dv-indicator-bar' style={style} className={'transition-x2'}/>\r\n        <div id='dv-indicator-bar' style={style} className={'transition-default'}/>\r\n      </div>);\r\n  }\r\n\r\n  renderItems() {\r\n    var result = [];\r\n\r\n    const { t } = this.props;\r\n\r\n    this.district.forEach((element, index) => {\r\n      result.push(<div className='district-item'           \r\n        onClick={()=>{this.onClick(index)}}\r\n        style={element.position}>\r\n          <span>\r\n            {t(`about.${element.id}`)}\r\n          </span>\r\n        </div>);\r\n    });\r\n    return result;\r\n  }\r\n  \r\n  renderMain() {\r\n    var scale = window.innerWidth > 400 ? window.innerWidth / 400 : 1;\r\n    var offset = (498 * scale * 0.5) - (498 * 0.5);\r\n    var style = {\r\n      transform: `scale(${scale})`,\r\n      backgroundImage: 'url(/resources/map_pc.png)',\r\n      top: offset,\r\n    };\r\n\r\n    return (\r\n      <div id='dv-about-main' className='transition-default'>\r\n        <div style={style} id='dv-about-map'>\r\n          { this.renderItems() }\r\n        </div>\r\n      </div>\r\n      );\r\n  }\r\n\r\n  renderDetail(url) {\r\n    var className = i18n.language === 'en' ? 'en' : '';\r\n    return (\r\n      <div id='dv-about-body'>\r\n        <div id='dv-about-tab' className={className}>\r\n          {this.renderTabs(url)}\r\n        </div>\r\n        <div id='dv-about-body-detail' className={className}>\r\n          <AboutDetail id={ url ? url : this.district[this.state.index].id }/>\r\n        </div>\r\n      </div>);\r\n  }\r\n\r\n  render() {\r\n    var { url } = this.props.match;\r\n    url = url.split('/')[2];\r\n    \r\n    return (\r\n      <div id='dv-about'>\r\n        { url ? this.renderDetail(url) : this.renderMain() }\r\n      </div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => { return {}; }\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(About));","import React, { Component } from 'react';\r\nimport { getUrl } from 'utils';\r\nimport ReactPlayer from 'react-player';\r\nimport { connect } from 'react-redux';\r\nimport * as action from 'action';\r\n\r\nclass Upload extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    if (this.props.history != null) {\r\n      this.props.setHistory(this.props.history);\r\n    }\r\n\r\n    this.state = {\r\n      selectedFile: null,\r\n      path: 'https://www.youtube.com/watch?v=G8GaQdW2wHc',\r\n    };\r\n  }\r\n\r\n  onChangeHandler(event) {\r\n    console.log(event.target.files[0]);\r\n    this.setState({\r\n      selectedFile: event.target.files[0],\r\n      loaded: 0,\r\n      path: URL.createObjectURL(event.target.files[0]),\r\n    });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    const { selectedFile } = this.state;\r\n\r\n    formData.append('inputFile', selectedFile);\r\n\r\n    fetch(getUrl('file/movie/upload'), {\r\n      method: 'POST',\r\n      body: formData,\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div style={{position: 'relative'}}>\r\n        <ReactPlayer\r\n          className='react-player'\r\n          width='90%' height='100%'\r\n          url={this.state.path} playing={false} controls={true}>\r\n        </ReactPlayer>\r\n        <br/><br/>\r\n        <form onSubmit={ (event) => { this.handleSubmit(event); }}>\r\n          <label>\r\n            Upload a file: <br/><br/>\r\n            <input type='file' name='file' onChange={ (event) => { this.onChangeHandler(event); }}/>\r\n          </label>\r\n          <br/><br/>\r\n          <button type='submit'>Upload</button>\r\n        </form >\r\n        <div></div>\r\n        <br/><br/><br/><br/>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      //user: state.auth.user\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setHistory: (history) => { dispatch(action.setHistory(history)) }\r\n    //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Upload);","import React, { Component } from 'react';\r\nimport './LocaleDropdown.css';\r\nimport i18n from 'utils/i18n';\r\n//import { kr } from 'locales';\r\n\r\nclass LocaleDropdown extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      language: i18n.language,\r\n    }\r\n  }\r\n\r\n  changeLanguage (e) {\r\n    if (this.state.language !== e)\r\n    {\r\n      i18n.changeLanguage(e);\r\n      this.setState({\r\n        ...this.state,\r\n        language: e,\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount(){  \r\n    window.initDropdown('.dropdown-trigger');\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id='dv-locale-dropdown'>\r\n        <div class='dropdown-trigger' href='#' data-target='dropdown1'>\r\n          <img src={`/resources/locale/${this.state.language}.png`}/>\r\n        </div>\r\n        <ul id='dropdown1' class='dropdown-content'>\r\n          <li><a onClick={ ()=> { this.changeLanguage('kr') } }></a></li>\r\n          <li><a onClick={ ()=> { this.changeLanguage('en') } }>English</a></li>\r\n          <li><a onClick={ ()=> { this.changeLanguage('ch') } }></a></li>\r\n          <li><a onClick={ ()=> { this.changeLanguage('jp') } }></a></li>\r\n        </ul>\r\n      </div>);\r\n  }\r\n  /*\r\n  \r\n        <div id='dv-button-locale' onClick={ ()=> { this.changeLanguage('en') } }></div>\r\n        <div id='dv-button-locale' style={{left: '100px'}} onClick={ ()=> { this.changeLanguage('kr') } }></div>\r\n        <div id='dv-button-locale' style={{left: '200px'}} onClick={ ()=> { this.changeLanguage('jp') } }></div>\r\n        <div id='dv-button-locale' style={{left: '300px'}} onClick={ ()=> { this.changeLanguage('ch') } }></div>\r\n  */\r\n}\r\n\r\nexport default LocaleDropdown;","import LocaleDropdown from 'component/UI/LocaleDropdown';\r\nimport React, { Component } from 'react';\r\n\r\nclass LocaleTest extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div style={{position: 'absolute', top: '0'}}>\r\n        <LocaleDropdown></LocaleDropdown>\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default LocaleTest;","import React, { Component } from 'react';\r\nimport { Main, Game, Tour, TourDetail, POI, Logo, About } from 'component/Body';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport Upload from 'component/Body/Test/Upload';\r\nimport LocaleTest from 'component/Body/Test/LocaleTest';\r\nimport LocaleDropdown from 'component/UI/LocaleDropdown';\r\n\r\nclass Body extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id='dv-body'>\r\n        <Logo />\r\n        <Switch>\r\n          <Route path='/main' component={Main} />\r\n          <Route exact path='/about' component={About} />\r\n          <Route path='/about/:name' component={About} />\r\n          <Route path='/poi' component={POI} />\r\n          <Route path='/game' component={Game} />\r\n          <Route path='/upload' component={Upload} />\r\n          <Route exact path='/tour' component={Tour} />\r\n          <Route path='/testpage' component={LocaleTest} />\r\n          <Route path='/tour/:type/:id/' component={TourDetail} />\r\n          <Redirect to='/main' />\r\n        </Switch>\r\n        <LocaleDropdown/>\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default Body;","import React, { Component } from 'react';\r\nimport './BottomMenu.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { isNullOrEmpty } from 'utils';\r\nimport $ from 'jquery';\r\nimport i18n from 'utils/i18n';\r\n\r\nclass BottomMenu extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.currentPageNum = 0;\r\n    this.pageInfo = [\r\n      '/main',\r\n      '/about',\r\n      '/tour',\r\n      '/poi',\r\n      '/game',\r\n    ]\r\n    this.state = { \r\n      width: 0, \r\n      height: 0,\r\n      page: 'main',\r\n      oldPage: '',\r\n      left: '0px'\r\n    };\r\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n  }\r\n\r\n  movePage(index) {\r\n    if (index > -1 && index < this.pageInfo.length) {\r\n      this.currentPageNum = index;\r\n      var linkData = {\r\n        pathname: this.pageInfo[index]\r\n      }\r\n      this.props.history.replace(linkData);\r\n    }\r\n  }\r\n\r\n  toLeft(distance) {\r\n    //console.log(this.currentPageNum + ' to left => ' +  distance);\r\n    if (distance > 150) {\r\n    }\r\n    this.movePage(this.currentPageNum + 1);\r\n  }\r\n\r\n  toRight(distance){\r\n    //console.log(this.currentPageNum + ' to right => ' +  distance);\r\n    if (distance > 150) {\r\n    }\r\n    this.movePage(this.currentPageNum - 1);      \r\n  }\r\n\r\n  componentDidMount() {\r\n    //window.setSwipeCallBack(this.toLeft.bind(this), this.toRight.bind(this));\r\n    window.addEventListener('resize', this.updateWindowDimensions);\r\n    this.updateWindowDimensions();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateWindowDimensions);\r\n  }\r\n  \r\n  updateWindowDimensions() {\r\n    this.setState({ \r\n      width: window.innerWidth, \r\n      height: window.innerHeight \r\n    });\r\n  }\r\n\r\n  renderIndicator () {\r\n    if (this.currentPageNum > -1 && this.state.oldPage !== this.state.page) {\r\n      var width = this.state.width * 0.20;\r\n      //var offset = this.currentPageNum > 1 ? 80 : 0;\r\n      var left = this.currentPageNum * width + 'px';\r\n      //$('.indicator').css('left', left);\r\n      if (this.state.left !== left) {\r\n        this.setState({\r\n          ...this.state,\r\n          oldPage: this.state.page,\r\n          left: left,\r\n        });\r\n      }\r\n    }\r\n    return (<div className='indicator transition-default'> \r\n        <div id='dv-left' style={{left: this.state.left}} className={'transition-fast'}/>\r\n        <div id='dv-left' style={{left: this.state.left}} className={'transition-x2'}/>\r\n        <div id='dv-left' style={{left: this.state.left}} className={'transition-default'}/>\r\n      </div>);\r\n  }\r\n\r\n  renderButton (link, text) {\r\n    var className = 'material-icons bottom-button transition-default';\r\n\r\n    if (isNullOrEmpty(this.props.state)) {\r\n      if (link === '/main') {\r\n        className += ' selected';\r\n        this.currentPageNum = 0;\r\n        $('.indicator').attr('class', 'indicator main');\r\n      }\r\n    }\r\n    else if (this.props.state.startsWith(link)) {\r\n      className += ' selected';\r\n      this.currentPageNum = this.pageInfo.indexOf(link);\r\n\r\n      if (this.currentPageNum !== -1) {\r\n        var page = link.slice(1);\r\n        if (this.state.page !== page) {\r\n          this.setState({\r\n            ...this.state,\r\n            page: page,\r\n          });\r\n        }\r\n        //$('.indicator').attr('class', 'indicator ' + link.slice(1));\r\n      }\r\n    }\r\n    if (!link) link = '';\r\n    return (<li class='tab col s1'>\r\n      <Link className={className} to={link}>\r\n        {text}\r\n      </Link></li>\r\n    );\r\n  }\r\n\r\n  changeLanguage (e) {\r\n    //console.log(e);\r\n    i18n.changeLanguage(e);\r\n  }\r\n\r\n  render(){\r\n    if (this.props.showMenu || this.props.state !== '/main') {\r\n      return (\r\n        <div id='dv-footer' className='row'>\r\n          <ul>\r\n            {this.renderButton('/main', 'home')}\r\n            {this.renderButton('/about', 'map')}\r\n            {this.renderButton('/tour', 'tour')}\r\n            {this.renderButton('/poi', 'location_on')}\r\n            {this.renderButton('/game', 'games')}\r\n          </ul>\r\n          {this.renderIndicator()}          \r\n        </div>);\r\n    }\r\n    else {\r\n      return (<div></div>);\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    showMenu: state.showMenu,\r\n    history: state.history,\r\n    state: state.history ? state.history.location.pathname : '',\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n      //setPage: (page, header, footer) => { dispatch(action.setPage(page, header, footer)) }\r\n  };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BottomMenu);","import React, { Component } from 'react';\r\nimport BottomMenu from \"component/Footer/BottomMenu\";\r\n\r\nclass Footer extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        <BottomMenu/>\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport { Header, Body, Footer } from 'container';\r\nimport \"./App.css\";\r\n\r\nclass App extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        <Body/>\r\n        <Header/>\r\n        <Footer/>\r\n      </div>);\r\n  }\r\n}\r\n\r\nexport default App;","import * as actionTypes from 'action';\r\n\r\n//   \r\nconst initialState = {\r\n    /*color: 'black',\r\n    number: 0*/\r\n    history: undefined,\r\n    tourData: undefined,\r\n    showMenu: false,\r\n};\r\n\r\n/* \r\n      .  state  action   .\r\n    state  undefined  ( ) state   initialState  .\r\n    action.type     ,    .\r\n         state    ,\r\n             .\r\n*/\r\n\r\nfunction counter(state = initialState, action) {\r\n    //console.log(action);\r\n    switch (action.type) {\r\n        case actionTypes.SET_HISTORY:\r\n            return {\r\n                ...state,\r\n                history: action.history\r\n            }\r\n        case actionTypes.SET_TOUR_DATA:\r\n            return {\r\n                ...state,\r\n                tourData: action.tourData,\r\n            }\r\n        case actionTypes.SET_SHOW_MENU:\r\n            return {\r\n                ...state,\r\n                showMenu: action.showMenu,\r\n            }\r\n        /*case actionTypes.INCREMENT: \r\n            return {\r\n                ...state,\r\n                number: state.number + 1\r\n            };\r\n        case actionTypes.DECREMENT:\r\n            return {\r\n                ...state,\r\n                number: state.number - 1\r\n            };\r\n        case actionTypes.SET_COLOR:\r\n            return {\r\n                ...state,\r\n                color: action.color\r\n            };*/\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default counter;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from 'component/App';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport reducer from 'reducer';\nimport 'utils/i18n';\n//import reportWebVitals from './reportWebVitals';\n\nconst store = createStore(reducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}